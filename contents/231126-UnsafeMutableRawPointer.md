# UnsafeMutableRawPointer π¤Ώ

ν•μ‹ν™”λμ§€ μ•μ€ λ°μ΄ν„°μ— μ•΅μ„Έμ¤ν•κ³  μ΅°μ‘ν•κΈ° μ„ν• μ›μ‹ ν¬μΈν„°μ…λ‹λ‹¤.

```swift
@frozen
struct UnsafeMutableRawPointer
```

# 1οΈβƒ£ κ°μ”.

**'UnsafeMutableRawPointer'** νƒ€μ…μ€ μλ™ λ©”λ¨λ¦¬ κ΄€λ¦¬(ARC), νƒ€μ… μ•μ •μ„±, μ •λ ¬ λ³΄μ¥μ„ μ κ³µν•μ§€ μ•μµλ‹λ‹¤.

λ‹Ήμ‹ μ€ μ•μ „ν•μ§€ μ•μ€ ν¬μΈν„°λ¥Ό ν†µν•΄ μ‘μ—…ν•λ” λ¨λ“  λ©”λ¨λ¦¬μ μƒλ…μ£ΌκΈ°λ¥Ό κ΄€λ¦¬ν•λ” μ±…μ„μ΄ μμΌλ©°, μ΄λ¥Ό ν†µν•΄ λ©”λ¨λ¦¬ λ„μ(memory leak)λ‚ μ •μλμ§€ μ•μ€ ν–‰λ™μ„ ν”Όν•΄μ•Ό ν•©λ‹λ‹¤.

μλ™μΌλ΅ κ΄€λ¦¬ν•λ” λ©”λ¨λ¦¬λ” νƒ€μ…μ΄ μ§€μ •λμ§€ μ•κ±°λ‚ νΉμ • νƒ€μ…μ— λ°”μΈλ”© λ  μ μμµλ‹λ‹¤.
**'UnsafeMutableRawPointer'** νƒ€μ…μ€ λ©”λ¨λ¦¬μ— μ €μ¥λ μ›μ‹ λ°”μ΄νΈμ— μ ‘κ·Όν•κ³  κ΄€λ¦¬ν•κΈ° μ„ν•΄ μ‚¬μ©λλ©°, ν•΄λ‹Ή λ©”λ¨λ¦¬κ°€ νΉμ • νƒ€μ…μ— λ°”μΈλ”©λμ—λ”μ§€ μ—¬λ¶€μ™€ μƒκ΄€μ—†μµλ‹λ‹¤.

> β… **μ •μλμ§€ μ•μ€ ν–‰λ™(Undefined Behavior).**
> 
> **ν”„λ΅κ·Έλλ° μ–Έμ–΄μ λ…μ„Έμ—μ„ νΉμ • μ΅°κ±΄μ΄λ‚ μƒν™©μ— λ€ν•΄ μ–΄λ– ν• ν–‰λ™λ„ λ…ν™•ν•κ² μ •μν•μ§€ μ•μ€ μƒνƒλ¥Ό λ§ν•©λ‹λ‹¤.**
> 
> μ΄λ” ν”„λ΅κ·Έλλ―Έμ΄ μμΈ΅ λ¶κ°€λ¥ν• λ°©μ‹μΌλ΅ λ™μ‘ν•  μ μμμ„ μλ―Έν•©λ‹λ‹¤.

> β… **μ •μλμ§€ μ•μ€ ν–‰λ™μ μ£Όμ” μ›μΈκ³Ό κ·Έ μμ‹.**
> 
> **1. λ©”λ¨λ¦¬ μ ‘κ·Ό μ¤λ¥ :** μλ»λ λ©”λ¨λ¦¬ μ£Όμ†μ— μ ‘κ·Όν•κ±°λ‚, ν•΄μ λ λ©”λ¨λ¦¬λ¥Ό λ‹¤μ‹ μ‚¬μ©ν•λ” κ²½μ°μ™€ κ°™μ΄ λ¶€μ μ ν• λ©”λ¨λ¦¬ μ ‘κ·Όμ΄ λ°μƒν•  λ•.
> **2. νƒ€μ… μ¤μ© :** μλ»λ νƒ€μ…μΌλ΅ λ©”λ¨λ¦¬λ¥Ό ν•΄μ„ν•κ±°λ‚, νƒ€μ… μ•μ „μ„ μ„λ°ν•λ” κ²½μ°.
> **3. μ •λ ¬ μ„λ° :** λ°μ΄ν„°μ— μ ‘κ·Όν•  λ• μ”κµ¬λλ” λ©”λ¨λ¦¬ μ •λ ¬ κ·μΉ™μ„ μ¤€μν•μ§€ μ•μ€ κ²½μ°.

> π’― **μ •μλμ§€ μ•μ€ ν–‰λ™ λ§λ¬΄λ¦¬.**
> 
> μ •μλμ§€ μ•μ€ ν–‰λ™μ΄ λ°μƒν•λ©΄ ν”„λ΅κ·Έλ¨μ΄ μ¶©λν•κ±°λ‚ μμƒμΉ λ»ν• κ²°κ³Όλ¥Ό μƒμ„±ν•  μ μμµλ‹λ‹¤.
> λ”μ±μ΄, μ΄λ° ν–‰λ™μ€ λ””λ²„κΉ…μ΄ λ§¤μ° μ–΄λ µκ³ , λ•λ΅λ” λ³΄μ• μ·¨μ•½μ μΌλ΅ μ΄μ–΄μ§ μ μμµλ‹λ‹¤.
> λ”°λΌμ„, ν”„λ΅κ·Έλλ¨Έλ” μ΄λ¬ν• μƒν™©μ„ ν”Όν•κ³  μ•μ „ν• μ½”λ“λ¥Ό μ‘μ„±ν•κΈ° μ„ν•΄ μ£Όμλ¥Ό κΈ°μΈμ—¬μ•Ό ν•©λ‹λ‹¤.
> **'UnsafeMutableRawPointer'** μ™€ κ°™μ€ μ €μμ¤€ λ©”λ¨λ¦¬ μ ‘κ·Ό λ°©μ‹μ„ μ‚¬μ©ν•  λ•λ” νΉν μ΄λ¬ν• μ„ν—μ„ μΈμ§€ν•κ³  μ μ ν κ΄€λ¦¬ν•΄μ•Ό ν•©λ‹λ‹¤.

> β… **νΉμ • νƒ€μ…μ— λ°”μΈλ”©.**
> 
> μ΄ ν‘ν„μ€ λ©”λ¨λ¦¬κ°€ νΉμ • λ°μ΄ν„° νƒ€μ…μΌλ΅ μ—°κ²°λκ±°λ‚ ν• λ‹Ή λ  μ μμμ„ μλ―Έν•©λ‹λ‹¤.
> 
> μ΄λ” ν”„λ΅κ·Έλλ°μ—μ„ λ©”λ¨λ¦¬μ— μ €μ¥λ λ°μ΄ν„°κ°€ μ–΄λ–¤ νƒ€μ…μ κ°’μΌλ΅ ν•΄μ„λ  μ μλ”μ§€λ¥Ό μ •μν•λ” κ²ƒκ³Ό κ΄€λ ¨μ΄ μμµλ‹λ‹¤.
> 
> μλ¥Ό λ“¤μ–΄, λ©”λ¨λ¦¬μ— μ •μ, λ¶€λ™ μ†μμ , λ¬Έμμ—΄ λλ” λ³µμ΅ν• κµ¬μ΅°μ²΄ λ“± λ‹¤μ–‘ν• νƒ€μ…μ λ°μ΄ν„°λ¥Ό μ €μ¥ν•  μ μμµλ‹λ‹¤.
> μ΄λ•, ν•΄λ‹Ή λ©”λ¨λ¦¬λ¥Ό νΉμ • νƒ€μ…μ— "λ°”μΈλ”©"ν•λ‹¤λ” κ²ƒμ€ κ·Έ λ©”λ¨λ¦¬κ°€ κ·Έ νƒ€μ…μ μΈμ¤ν„΄μ¤λ¥Ό μ €μ¥ν•κ³  μλ” κ²ƒμΌλ΅ ν•΄μ„λ  μ μμμ„ μλ―Έν•©λ‹λ‹¤.
> 
> **'UnsafeMutableRawPointer'** μ™€ κ°™μ€ μ›μ‹ ν¬μΈν„°(raw pointer)μ κ²½μ°, κΈ°λ³Έμ μΌλ΅ λ©”λ¨λ¦¬μ— λ€ν• νƒ€μ… μ •λ³΄λ¥Ό μ κ³µν•μ§€ μ•μµλ‹λ‹¤.
> 
> λ”°λΌμ„, κ°λ°μλ” ν•„μ”μ— λ”°λΌ λ©”λ¨λ¦¬λ¥Ό νΉμ • νƒ€μ…μ— λ°”μΈλ”©ν•μ—¬ κ·Έ νƒ€μ…μΌλ΅ λ©”λ¨λ¦¬λ¥Ό μ•μ „ν•κ² μ ‘κ·Όν•κ³  μ΅°μ‘ν•  μ μμµλ‹λ‹¤.
> 
> μ΄ κ³Όμ •μ€ νƒ€μ… μΊμ¤ν…(type casting)λλ” λ©”λ¨λ¦¬ ν•΄μ„(memory reinterpretation)κ³Ό κ΄€λ ¨μ΄ μμΌλ©°, νƒ€μ… μ•μ „μ„±κ³Ό λ°μ΄ν„° λ¬΄κ²°μ„±μ„ μ μ§€ν•λ” λ° μ¤‘μ”ν•©λ‹λ‹¤.
> 
> ν•μ§€λ§ μ΄λ¬ν• λ°”μΈλ”© κ³Όμ •μ€ λ§¤μ° μ£Όμν•΄μ„ μν–‰ν•΄μ•Ό ν•©λ‹λ‹¤.
> 
> μλ»λ νƒ€μ…μΌλ΅ λ°”μΈλ”©ν•λ©΄ λ°μ΄ν„°μ μ¤μ©, λ©”λ¨λ¦¬ μ¤λ¥, λλ” μ •μλμ§€ μ•μ€ ν–‰λ™μ„ μ΄λν•  μ μκΈ° λ•λ¬Έμ…λ‹λ‹¤.

# 2οΈβƒ£ Understanding a Pointer's Memory State(ν¬μΈν„°μ λ©”λ¨λ¦¬ μƒνƒ μ΄ν•΄ν•κΈ°).

**"UnsafeMutableRawPointer"** μΈμ¤ν„΄μ¤κ°€ μ°Έμ΅°ν•λ” λ©”λ¨λ¦¬λ” μ—¬λ¬ κ°€μ§€ μƒνƒ μ¤‘ ν•λ‚μΌ μ μμµλ‹λ‹¤.
λ§μ€ ν¬μΈν„° μ—°μ‚°μ€ νΉμ • μƒνƒμ λ©”λ¨λ¦¬λ¥Ό κ°€μ§„ ν¬μΈν„°μ—λ§ μ μ©λμ–΄μ•Ό ν•©λ‹λ‹¤.
λ”°λΌμ„, λ‹Ήμ‹ μ€ μ‘μ—… μ¤‘μΈ λ©”λ¨λ¦¬μ μƒνƒλ¥Ό μ¶”μ ν•κ³ , λ‹¤μ–‘ν• μ—°μ‚°μ΄ κ·Έ μƒνƒμ— μ–΄λ–¤ λ³€ν™”λ¥Ό μ£Όλ”μ§€ μ΄ν•΄ν•΄μ•Ό ν•©λ‹λ‹¤.

λ©”λ¨λ¦¬λ” νƒ€μ…μ΄ μ§€μ •λμ§€ μ•κ³  μ΄κΈ°ν™”λμ§€ μ•μ€ μƒνƒμΌ μλ„ μκ³ , νΉμ • νƒ€μ…μ— λ°”μΈλ”©λμ—μ§€λ§ μ΄κΈ°κΈ°ν™”λμ§€ μ•μ€ μƒνƒμΌ μλ„ μμΌλ©°, λλ” νΉμ • νƒ€μ…μ— λ°”μΈλ”©λκ³  κ°’μΌλ΅ μ΄κΈ°ν™”λ μƒνƒμΌ μλ„ μμµλ‹λ‹¤.

λ§μ§€λ§‰μΌλ΅, μ΄μ „μ— ν• λ‹Ήλ λ©”λ¨λ¦¬κ°€ ν•΄μ λμ—μ„ μ μμ–΄, κΈ°μ΅΄ ν¬μΈν„°λ“¤μ΄ ν• λ‹Ήλμ§€ μ•μ€ λ©”λ¨λ¦¬λ¥Ό μ°Έμ΅°ν•κ³  μμ„ μ μμµλ‹λ‹¤.

> β… **λ©”λ¨λ¦¬μ λ‹¤μ–‘ν• μƒνƒ.**
> 
> **"UnsafeMutableRawPointer"** κ°€ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬λ” μ—¬λ¬ μƒνƒ μ¤‘ ν•λ‚μΌ μ μμµλ‹λ‹¤.
> μ΄λ¬ν• μƒνƒλ” λ©”λ¨λ¦¬κ°€ μ–΄λ–»κ² ν• λ‹Ήλκ³  μ‚¬μ©λλ”μ§€μ— λ”°λΌ λ‹¬λΌμ§‘λ‹λ‹¤.

> β… **μƒνƒμ— λ”°λ¥Έ μ—°μ‚°μ μ μ©.**
> 
> νΉμ • ν¬μΈν„° μ—°μ‚°λ“¤μ€ λ©”λ¨λ¦¬κ°€ νΉμ • μƒνƒμ— μμ„ λ•λ§ μ μ©λμ–΄μ•Ό ν•©λ‹λ‹¤.
> κ°λ°μλ” μ‘μ—… μ¤‘μΈ λ©”λ¨λ¦¬ μƒνƒλ¥Ό μ¶”μ ν•κ³ , λ‹¤μ–‘ν• μ—°μ‚°μ΄ λ©”λ¨λ¦¬ μƒνƒμ— μ–΄λ–¤ λ³€ν™”λ¥Ό μΌμΌν‚¤λ”μ§€ μ΄ν•΄ν•΄μ•Ό ν•©λ‹λ‹¤.

> β… **λ©”λ¨λ¦¬μ μƒνƒ μ ν•.**
> 
> - **Untyped and Uninitialized(νƒ€μ…μ΄ μ§€μ •λμ§€ μ•κ³  μ΄κΈ°ν™”λμ§€ μ•μ€ μƒνƒ) :** λ©”λ¨λ¦¬κ°€ ν• λ‹Ήλμ—μ§€λ§ μ•„μ§ μ–΄λ–¤ νΉμ§• νƒ€μ…μ λ°μ΄ν„°λ΅ μ΄κΈ°ν™”λμ§€ μ•μ€ μƒνƒμ…λ‹λ‹¤.
> 
> - **Bound to a Type and Uninitialized(νΉμ • νƒ€μ…μ— λ°”μΈλ”©λμ—μ§€λ§ μ΄κΈ°ν™”λμ§€ μ•μ€ μƒνƒ) :** λ©”λ¨λ¦¬κ°€ νΉμ • νƒ€μ…μ— λ°”μΈλ”©λμ—μ§€λ§, ν•΄λ‹Ή νƒ€μ…μ κ°’μ„ μ•„μ§ κ°€μ§€κ³  μμ§€ μ•μ€ μƒνƒμ…λ‹λ‹¤.
> 
> - **Bound to a Type and Initialized(νΉμ • νƒ€μ…μ— λ°”μΈλ”©λκ³  μ΄κΈ°ν™”λ μƒνƒ) :** λ©”λ¨λ¦¬κ°€ νΉμ • νƒ€μ…μΌλ΅ λ°”μΈλ”©λκ³ , ν•΄λ‹Ή νƒ€μ…μ κ°’μΌλ΅ μ΄κΈ°ν™”λ μƒνƒμ…λ‹λ‹¤.

> β… **ν• λ‹Ή ν•΄μ λ λ©”λ¨λ¦¬.**
> 
> μ΄μ „μ— ν• λ‹Ήλ λ©”λ¨λ¦¬κ°€ ν•΄μ λμ—μ„ μ μμΌλ©°, μ΄ κ²½μ° κΈ°μ΅΄ ν¬μΈν„°λ” ν• λ‹Ήλμ§€ μ•μ€ λ©”λ¨λ¦¬λ¥Ό κ°€λ¦¬ν‚¤κ³  μμ„ μ μμµλ‹λ‹¤.
> 
> μ΄λ” ν¬μΈν„°κ°€ λ¬΄ν¨ν™”λμ—μμ„ μλ―Έν•λ©°, μ΄λ° μƒνƒμ λ©”λ¨λ¦¬μ— μ ‘κ·Όν•λ” κ²ƒμ€ μ„ν—ν•©λ‹λ‹¤.

> π’― **Understanding a Pointer's Memory State μ”μ•½**
> 
> κ°λ°μκ°€ **'UnsafeMutableRawPointer'** λ¥Ό μ‚¬μ©ν•  λ• λ©”λ¨λ¦¬ μƒνƒλ¥Ό μ •ν™•ν μ΄ν•΄ν•κ³ , μ μ ν• μ—°μ‚°μ„ μ μ©ν•λ©°, μ μ¬μ μΈ μ„ν—μ„ ν”Όν•κΈ° μ„ν•΄ ν•„μ”ν• μ£Όμλ¥Ό κΈ°μΈμ—¬μ•Ό ν•©λ‹λ‹¤.
> 
> λ©”λ¨λ¦¬μ μƒνƒλ¥Ό μ •ν™•ν νμ•…ν•κ³  κ΄€λ¦¬ν•λ” κ²ƒμ€ μ•μ „ν•κ³  ν¨μ¨μ μΈ μ €μμ¤€ λ©”λ¨λ¦¬ μ΅°μ‘μ„ μ„ν•΄ ν•„μμ μ…λ‹λ‹¤.

> β… **ν¬μΈν„°(Pointer)**
> 
> ν”„λ΅κ·Έλλ°μ—μ„ **"ν¬μΈν„°(Pointer)"** λ” λ©”λ¨λ¦¬μ μ£Όμ†λ¥Ό μ €μ¥ν•λ” λ³€μμ…λ‹λ‹¤.
> 
> μ¦‰, ν¬μΈν„°λ” λ©”λ¨λ¦¬ μƒμ νΉμ • μ„μΉλ¥Ό κ°€λ¦¬ν‚¤λ©°, μ΄λ¥Ό ν†µν•΄ ν•΄λ‹Ή μ„μΉμ— μ €μ¥λ λ°μ΄ν„°μ— μ ‘κ·Όν•  μ μμµλ‹λ‹¤.

> β… **ν¬μΈν„°(Pointer)μ μ£Όμ” νΉμ§•κ³Ό μ‚¬μ© λ©μ .**
> 
> **1. λ©”λ¨λ¦¬ μ£Όμ† μ €μ¥ :** ν¬μΈν„°λ” λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ €μ¥ν•©λ‹λ‹¤. μ΄ μ£Όμ†λ” λ©”λ¨λ¦¬ λ‚΄μ νΉμ • μ„μΉλ¥Ό λ‚νƒ€λƒ…λ‹λ‹¤.
> 
> **2. κ°„μ ‘μ μΈ λ°μ΄ν„° μ ‘κ·Ό :** ν¬μΈν„°λ¥Ό ν†µν•΄ λ©”λ¨λ¦¬μ— κ°„μ ‘μ μΌλ΅ μ ‘κ·Όν•  μ μμµλ‹λ‹¤. μ¦‰, ν¬μΈν„°λ¥Ό μ‚¬μ©ν•μ—¬ λ©”λ¨λ¦¬μ νΉμ • μ„μΉμ— μ €μ¥λ κ°’μ„ μ½κ±°λ‚ μμ •ν•  μ μμµλ‹λ‹¤.
> 
> **3. λ™μ  λ©”λ¨λ¦¬ κ΄€λ¦¬ :** ν¬μΈν„°λ” λ™μ  λ©”λ¨λ¦¬ ν• λ‹Ήμ— μ¤‘μ”ν• μ—­ν• μ„ ν•©λ‹λ‹¤. ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ¤‘μ— ν•„μ”ν• λ©”λ¨λ¦¬λ¥Ό λ™μ μΌλ΅ ν• λ‹Ήν•κ³ , μ΄ λ©”λ¨λ¦¬λ¥Ό ν¬μΈν„°λ¥Ό ν†µν•΄ κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤.
> 
> **4. λ³µμ΅ν• λ°μ΄ν„° κµ¬μ΅° :** ν¬μΈν„°λ” λ°°μ—΄, μ—°κ²° λ¦¬μ¤νΈ, νΈλ¦¬, κ·Έλν”„ λ“±κ³Ό κ°™μ€ λ³µμ΅ν• λ°μ΄ν„° κµ¬μ΅°λ¥Ό κµ¬ν„ν•λ” λ° ν•„μμ μ…λ‹λ‹¤.
> 
> **5. ν¨μ¨μ μΈ ν•¨μ μΈμ μ „λ‹¬ :** ν¬μΈν„°λ¥Ό μ‚¬μ©ν•μ—¬ ν•¨μμ— λ°μ΄ν„°λ¥Ό ν¨μ¨μ μΌλ΅ μ „λ‹¬ν•  μ μμµλ‹λ‹¤. νΉν, ν° λ°μ΄ν„° κµ¬μ΅°λ¥Ό ν•¨μμ— μ „λ‹¬ν•  λ• ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ©΄ λ©”λ¨λ¦¬ λ³µμ‚¬λ¥Ό μ¤„μΌ μ μμ–΄ μ„±λ¥μƒμ μ΄μ μ΄ μμµλ‹λ‹¤.
> 
> **6. μ €μμ¤€ ν”„λ΅κ·Έλλ° :** ν¬μΈν„°λ” λ©”λ¨λ¦¬μ— μ§μ ‘ μ ‘κ·Όν•  μ μκ² ν•΄μ£Όλ―€λ΅, ν•λ“μ›¨μ–΄λ‚ μ΄μ μ²΄μ μ™€ κ°™μ€ μ €μμ¤€ ν”„λ΅κ·Έλλ°μ— λ§¤μ° μ μ©ν•©λ‹λ‹¤.

> π’― **ν¬μΈν„° μ”μ•½**
> 
> Swiftμ™€ κ°™μ€ ν„λ€ μ–Έμ–΄μ—μ„λ” ν¬μΈν„°λ¥Ό μ§μ ‘ λ‹¤λ£¨λ” κ²ƒμ΄ μΌλ°μ μΌλ΅ μ ν•λμ–΄ μμΌλ©°, λ€μ‹  μ•μ „ν• λ©”λ¨λ¦¬ κ΄€λ¦¬ λ°©λ²•μ„ μ‚¬μ©ν•©λ‹λ‹¤.
> 
> κ·Έλ¬λ‚ νΉμ • μƒν™©μ—μ„λ” **'UnsafeMutableRawPointer'** μ™€ κ°™μ€ μ €μμ¤€ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•μ—¬ λ©”λ¨λ¦¬μ— μ§μ ‘ μ ‘κ·Όν•  ν•„μ”κ°€ μμ„ μ μμµλ‹λ‹¤.
> 
> μ΄λ¬ν• κ²½μ°, ν¬μΈν„°λ¥Ό μ‚¬μ©ν•  λ• λ©”λ¨λ¦¬ κ΄€λ¦¬μ™€ μ•μ „μ„±μ— νΉλ³„ν• μ£Όμλ¥Ό κΈ°μΈμ—¬μ•Ό ν•©λ‹λ‹¤.

# 3οΈβƒ£ Raw, Uninitialized Memory

λ°©κΈ ν• λ‹Ήλ μ›μ‹ λ©”λ¨λ¦¬λ” μ΄κΈ°ν™”λμ§€ μ•μ€, νƒ€μ…μ΄ μ§€μ •λμ§€ μ•μ€ μƒνƒμ…λ‹λ‹¤.(Raw Memory in an Uninitialized, Untyped State)
μ΄κΈ°ν™”λμ§€ μ•μ€ λ©”λ¨λ¦¬λ” μ–΄λ– ν• νƒ€μ…μ μ—°μ‚°μ— μ‚¬μ©λκΈ° μ „μ— λ°λ“μ‹ νΉμ • νƒ€μ…μ κ°’μΌλ΅ μ΄κΈ°ν™”λμ–΄μ•Ό ν•©λ‹λ‹¤.

**`initializeMemory(as:from:)`** λ° **`moveInitializeMemory(as:from:count:)`** κ°™μ€ λ©”μ†λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ›μ‹ λ©”λ¨λ¦¬λ¥Ό νΉμ • νƒ€μ…μ— λ°”μΈλ”©ν•κ³  ν•λ‚ μ΄μƒμ κ°’μΌλ΅ μ΄κΈ°ν™”ν•  μ μμµλ‹λ‹¤.
μ΄κΈ°ν™”ν•μ§€ μ•κ³  μ›μ‹ λ©”λ¨λ¦¬λ¥Ό νΉμ • νƒ€μ…μ— λ°”μΈλ”©ν•λ ¤λ©΄ `bindMemory(to:count:)` λ©”μ†λ“λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
μ΄λ¬ν• λ©”μ†λ“λ“¤μ€ λ©”λ¨λ¦¬μ— λ€ν• μ¶”κ°€μ μΈ νƒ€μ…-νΉν™”λ μ ‘κ·Όμ„ μ„ν•΄ νƒ€μ…ν™”λ ν¬μΈν„°λ¥Ό λ°ν™ν•©λ‹λ‹¤.

> **β… "νƒ€μ…ν™”λ ν¬μΈν„°λ¥Ό λ°ν™ν•©λ‹λ‹¤."λΌλ” κµ¬λ¬Έμ μλ―Έ.**
> 
> **1. νƒ€μ…ν™”λ ν¬μΈν„°(Typed Pointer).**
> 
> **νƒ€μ…ν™”λ ν¬μΈν„°λ€ νΉμ • λ°μ΄ν„° νƒ€μ…μ— λ€ν• λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„° μ…λ‹λ‹¤.**
> μλ¥Ό λ“¤μ–΄, Int, String λλ” λ‹¤λ¥Έ μ‚¬μ©μ μ •μ νƒ€μ…κ³Ό κ°™μ€ νΉμ • νƒ€μ…μ λ°μ΄ν„°λ¥Ό μ°Έμ΅°ν•©λ‹λ‹¤.
> μ΄λ” ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬ μμ—­μ΄ μ–΄λ–¤ νƒ€μ…μ λ°μ΄ν„°λ΅ κµ¬μ„±λμ–΄ μλ”μ§€λ¥Ό λ…μ‹ν•©λ‹λ‹¤.
> 
> **2. λ©”λ¨λ¦¬ λ°”μΈλ”© ν›„μ λ°ν™ κ°’.**
> 
> `bindMemory(to:count:)` λ©”μ†λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ›μ‹ λ©”λ¨λ¦¬λ¥Ό νΉμ • νƒ€μ…μ— λ°”μΈλ”©ν•λ©΄, μ΄ λ©”μ†λ“λ” ν•΄λ‹Ή νƒ€μ…μ„ λ‹¤λ£° μ μλ” ν¬μΈν„°λ¥Ό λ°ν™ν•©λ‹λ‹¤.
> μλ¥Ό λ“¤μ–΄, λ©”λ¨λ¦¬λ¥Ό Int νƒ€μ…μ— λ°”μΈλ”©ν•λ©΄ Int νƒ€μ…μ λ°μ΄ν„°λ¥Ό μ°Έμ΅°ν•  μ μλ” ν¬μΈν„°κ°€ λ°ν™λ©λ‹λ‹¤.
> 
> **3. νƒ€μ…-νΉν™”λ μ ‘κ·Ό.**
> 
> μ΄ νƒ€μ…ν™”λ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ©΄, ν”„λ΅κ·Έλλ¨Έλ” ν•΄λ‹Ή λ©”λ¨λ¦¬ μμ—­μ„ μ•μ „ν•κ³  μ •ν™•ν•κ² ν•΄λ‹Ή νƒ€μ…μ λ°μ΄ν„°λ¥Ό λ‹¤λ£° μ μμµλ‹λ‹¤.
> μ΄λ” λ©”λ¨λ¦¬μ μ•μ „ν• μ‚¬μ©μ„ λ³΄μ¥ν•κ³ , νƒ€μ… λ¶μΌμΉλ΅ μΈν• μ¤λ¥λ¥Ό λ°©μ§€ν•λ” λ° λ„μ›€μ΄ λ©λ‹λ‹¤.
> 
> **π’― "νƒ€μ…ν™”λ ν¬μΈν„°λ¥Ό λ°ν™ν•©λ‹λ‹¤."λΌλ” κµ¬λ¬Έμ μλ―Έ μ”μ•½.**
> 
> μ”μ•½ν•λ©΄, "νƒ€μ…ν™”λ ν¬μΈν„°λ¥Ό λ°ν™ν•©λ‹λ‹¤"λ” λ©”λ¨λ¦¬λ¥Ό νΉμ • νƒ€μ…μ— λ°”μΈλ”©ν• ν›„, ν•΄λ‹Ή νƒ€μ…μ λ°μ΄ν„°λ¥Ό μ•μ „ν•κ² μ ‘κ·Όν•κ³  μ΅°μ‘ν•  μ μλ„λ΅ ν•λ” ν¬μΈν„°λ¥Ό μ κ³µν•λ‹¤λ” μλ―Έμ…λ‹λ‹¤.
> 
> μ΄λ” λ©”λ¨λ¦¬λ¥Ό μ§μ ‘ λ‹¤λ£¨λ” μ €μμ¤€ ν”„λ΅κ·Έλλ°μ—μ„ λ§¤μ° μ¤‘μ”ν• κ°λ…μ…λ‹λ‹¤.

# 4οΈβƒ£ Typed Memory

νƒ€μ…μ— λ°”μΈλ”©λ λ©”λ¨λ¦¬λ” μ΄κΈ°ν™”λμ—λ“  μ΄κΈ°ν™”λμ§€ μ•μ•λ“ , μΌλ°μ μΌλ΅ νƒ€μ…ν™”λ ν¬μΈν„° - **`UnsafePointer`** μ™€ **`UnsafeMutablePointer`** μ μΈμ¤ν„΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ μ ‘κ·Όλ©λ‹λ‹¤.
μ΄κΈ°ν™”, ν• λ‹Ή, κ·Έλ¦¬κ³  ν•΄μ λ” **`UnsafeMutablePointer`** λ©”μ†λ“λ¥Ό μ‚¬μ©ν•μ—¬ μν–‰λ  μ μμµλ‹λ‹¤.

νƒ€μ…μ— λ°”μΈλ”©λ λ©”λ¨λ¦¬λ” ν•΄μ λμ—κ±°λ‚ λ°”μΈλ”©λ νƒ€μ…μ΄ λ‹¨μν•(trivial) νƒ€μ…μΈ κ²½μ°μ—λ§ λ‹¤λ¥Έ νƒ€μ…μΌλ΅ λ‹¤μ‹ λ°”μΈλ”©λ  μ μμµλ‹λ‹¤.
νƒ€μ…ν™”λ λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•λ” κ²ƒμ€ κ·Έ λ©”λ¨λ¦¬μ νƒ€μ… λ°”μΈλ”©μ„ ν•΄μ ν•μ§€ μ•μµλ‹λ‹¤.
ν•΄μ λ λ©”λ¨λ¦¬λ” κ°™μ€ νƒ€μ…μ κ°’μΌλ΅ λ‹¤μ‹ μ΄κΈ°ν™” λκ±°λ‚, μƒλ΅μ΄ νƒ€μ…μ— λ°”μΈλ”©λκ±°λ‚, λ©”λ¨λ¦¬ ν•΄μ (deallocate)λ  μ μμµλ‹λ‹¤.

> π“ **μ°Έκ³ **
> 
> λ‹¨μν•(trivial) νƒ€μ…μ€ κ°„μ ‘ μ ‘κ·Όμ΄λ‚ μ°Έμ΅° μΉ΄μ΄ν… μ—°μ‚° μ—†μ΄ λΉ„νΈ λ‹¨μ„λ΅ λ³µμ‚¬λ  μ μμµλ‹λ‹¤.
> μΌλ°μ μΌλ΅, κ°•ν•(strong) λλ” μ•½ν•(weak) μ°Έμ΅°λ‚ κΈ°νƒ€ ν•νƒμ κ°„μ ‘ μ ‘κ·Όμ„ ν¬ν•¨ν•μ§€ μ•λ” λ„¤μ΄ν‹°λΈ Swift νƒ€μ…λ“¤μ€ λ‹¨μν• νƒ€μ…μ…λ‹λ‹¤.
> λν•, C μ–Έμ–΄λ΅λ¶€ν„° κ°€μ Έμ¨ κµ¬μ΅°μ²΄(structs)μ™€ μ—΄κ±°ν•(enumerations)λ„ λ‹¨μν• νƒ€μ…μ— ν•΄λ‹Ήν•©λ‹λ‹¤.

νƒ€μ…μ— λ°”μΈλ”©λ λ©”λ¨λ¦¬λ¥Ό μ›μ‹ λ°”μ΄νΈλ΅ μ½κ±°λ‚ μ“Έ λ•λ”, μ–΄λ– ν• μ •λ ¬ μ”κµ¬μ‚¬ν•­λ„ μ¶©μ΅±μ‹μΌμ•Ό ν•©λ‹λ‹¤.
νƒ€μ…ν™”λ λ©”λ¨λ¦¬λ¥Ό μ›μ‹λ°”μ΄νΈλ΅ μ“°λ” κ²ƒμ€ λ°”μΈλ”©λ νƒ€μ…μ΄ λ‹¨μν• νƒ€μ…μΌ λ•λ§ μν–‰λμ–΄μ•Ό ν•©λ‹λ‹¤.

> **β… "λ‹¨μν•(trivial) νƒ€μ…"μ μλ―Έ.**
> 
> **"λ‹¨μν•(trivial) νƒ€μ…"** μ΄λΌλ” ν‘ν„μ€ ν”„λ΅κ·Έλλ°, νΉν Swift μ–Έμ–΄μ—μ„ μ‚¬μ©λλ” κ°λ…μΌλ΅, λ©”λ¨λ¦¬ κ΄€λ¦¬μ™€ κ΄€λ ¨λ νΉμ • μ ν•μ λ°μ΄ν„° νƒ€μ…μ„ μ§€μΉ­ν•©λ‹λ‹¤.
> 
> μ—¬κΈ°μ„ **"λ‹¨μν•(trivial)"** νƒ€μ…μ μλ―Έλ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.
> 
> **1, κ°„λ‹¨ν• λ©”λ¨λ¦¬ κ΄€λ¦¬.**
> 
> λ‹¨μν• νƒ€μ…μ€ λ³µμ΅ν• λ©”λ¨λ¦¬ κ΄€λ¦¬λ‚ λΌμ΄ν”„μ‚¬μ΄ν΄ κ΄€λ¦¬κ°€ ν•„μ”ν•μ§€ μ•μ€ νƒ€μ…μ„ μλ―Έν•©λ‹λ‹¤.
> μ΄λ¬ν• νƒ€μ…μ€ λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•κ±°λ‚ ν•΄μ ν•  λ• μ¶”κ°€μ μΈ μ²λ¦¬κ°€ ν•„μ” μ—†μµλ‹λ‹¤.
> 
> **2. λ³µμ‚¬μ™€ ν• λ‹Ήμ κ°„λ‹¨ν•¨.**
> 
> λ‹¨μν• νƒ€μ…μ κ°μ²΄λ” λ³΄ν†µ λ³µμ‚¬κ°€ κ°„λ‹¨ν•λ©°, κΉμ€ λ³µμ‚¬(deep copy)λ‚ μ°Έμ΅° μΉ΄μ΄ν…(reference counting)κ³Ό κ°™μ€ λ³µμ΅ν• λ©”μ»¤λ‹μ¦μ΄ ν•„μ”ν•μ§€ μ•μµλ‹λ‹¤.
> 
> μλ¥Ό λ“¤μ–΄, κΈ°λ³Έ λ°μ΄ν„° νƒ€μ…(primitive data types)μΈ μ •μ(integers), μ‹¤μ(floating-point numbers), λ¬Έμ(character) λ“±μ΄ μ΄μ— μ†ν•©λ‹λ‹¤.
> 
> **3. μ»¤μ¤ν…€ μ΄κΈ°ν™”λ‚ ν•΄μ  λ¶ν•„μ”.**
> 
> λ‹¨μν• νƒ€μ…μ€ νΉλ³„ν• μ΄κΈ°ν™”λ‚ ν•΄μ  μ μ°¨κ°€ ν•„μ”ν•μ§€ μ•μµλ‹λ‹¤. μ¦‰, μ‚¬μ©μ μ •μ μƒμ„±μλ‚ μ†λ©Έμκ°€ ν•„μ” μ—†μΌλ©°, λ©”λ¨λ¦¬μ—μ„ μ§μ ‘ ν• λ‹Ήν•κ±°λ‚ ν•΄μ ν•  μ μμµλ‹λ‹¤.


> **β… "νƒ€μ…ν™”λ λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•λ” κ²ƒμ€ κ·Έ λ©”λ¨λ¦¬μ νƒ€μ… λ°”μΈλ”©μ„ ν•΄μ ν•μ§€ μ•μµλ‹λ‹¤." κµ¬λ¬Έμ μλ―Έ.**
> 
> **1. νƒ€μ…ν™”λ λ©”λ¨λ¦¬ Deinitialization.**
> 
> νƒ€μ…ν™”λ λ©”λ¨λ¦¬λ¥Ό 'ν•΄μ (deinitialize)'ν•λ‹¤λ” κ²ƒμ€ ν•΄λ‹Ή λ©”λ¨λ¦¬μ— μ €μ¥λ λ°μ΄ν„°λ¥Ό μ•μ „ν•κ² μ κ±°ν•κ±°λ‚ μ΄κΈ°ν™” μƒνƒλ΅ λλλ¦°λ‹¤λ” μλ―Έμ…λ‹λ‹¤.
> μλ¥Ό λ“¤μ–΄, κ°μ²΄μ λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•λ©΄ κ·Έ κ°μ²΄μ λ¨λ“  ν”„λ΅νΌν‹°μ™€ μμ›μ΄ μ •λ¦¬λλ©°, λ©”λ¨λ¦¬λ” λ‹¤μ‹ μ‚¬μ©ν•  μ μκ²λ©λ‹λ‹¤.
> 
> **2. νƒ€μ… λ°”μΈλ”© μ μ§€.**
> 
> κ·Έλ¬λ‚ μ΄ κ³Όμ •μ—μ„ μ¤‘μ”ν• μ μ€ λ©”λ¨λ¦¬κ°€ ν•΄μ λμ–΄λ„, ν•΄λ‹Ή λ©”λ¨λ¦¬ μμ—­μ΄ μ›λ λ°”μΈλ”©λμ—λ νΉμ • νƒ€μ…κ³Όμ μ—°κ²°(λ°”μΈλ”©)μ€ ν•΄μ λμ§€ μ•λ”λ‹¤λ” κ²ƒμ…λ‹λ‹¤.
> μ¦‰, λ©”λ¨λ¦¬ μμ—­μ€ μ—¬μ „ν μ²μ λ°”μΈλ”©λ νƒ€μ…μΌλ΅ κ°„μ£Όλ©λ‹λ‹¤.
> 
> **3. μ¬μ‚¬μ©κ³Ό μ¬λ°”μΈλ”©μ μ ν•.**
> 
> μ΄λ” ν•΄λ‹Ή λ©”λ¨λ¦¬ μμ—­μ„ λ‹¤λ¥Έ νƒ€μ…μ λ°μ΄ν„°λ΅ μ¬μ‚¬μ©ν•λ ¤λ©΄ μ¶”κ°€μ μΈ λ‹¨κ³„κ°€ ν•„μ”ν•¨μ„ μλ―Έν•©λ‹λ‹¤.
> μ¦‰, λ‹¤λ¥Έ νƒ€μ…μ λ°μ΄ν„°λ¥Ό μ €μ¥ν•κΈ° μ „μ—, ν•΄λ‹Ή λ©”λ¨λ¦¬ μμ—­μ„ λ…μ‹μ μΌλ΅ μƒλ΅μ΄ νƒ€μ…μ— λ°”μΈλ”©ν•΄μ•Ό ν•©λ‹λ‹¤.
> 
> **π’― "νƒ€μ…ν™”λ λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•λ” κ²ƒμ€ κ·Έ λ©”λ¨λ¦¬μ νƒ€μ… λ°”μΈλ”©μ„ ν•΄μ ν•μ§€ μ•μµλ‹λ‹¤." κµ¬λ¬Έμ μλ―Έ μ”μ•½.**
> 
> μ”μ•½ν•λ©΄, μ΄ κµ¬λ¬Έμ€ λ©”λ¨λ¦¬μ λ°μ΄ν„°λ¥Ό ν•΄μ ν•΄λ„ λ©”λ¨λ¦¬κ°€ μ²μ λ°”μΈλ”©λ νƒ€μ…μ— κ³„μ† μ—°κ²°λμ–΄ μμμ„ λ‚νƒ€λƒ…λ‹λ‹¤.
> μ΄λ¬ν• μ΄ν•΄λ” λ©”λ¨λ¦¬λ¥Ό μ•μ „ν•κ² κ΄€λ¦¬ν•κ³ , νƒ€μ… λ¶μΌμΉλ΅ μΈν• μ¤λ¥λ¥Ό λ°©μ§€ν•λ” λ° μ¤‘μ”ν•©λ‹λ‹¤.

> **β… μ›μ‹ λ°”μ΄νΈ(raw bytes)**
> 
> **μ›μ‹ λ°”μ΄νΈ(raw bytes)** λ” μ»΄ν“¨ν„° λ©”λ¨λ¦¬μ— μ €μ¥λ λ°μ΄ν„°λ¥Ό κ°€μ¥ κΈ°λ³Έμ μΈ ν•νƒ, μ¦‰ λ°”μ΄νΈ λ‹¨μ„λ΅ ν‘ν„ν• κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.
> μ΄ μ©μ–΄λ” ν”„λ΅κ·Έλλ° λ° μ»΄ν“¨ν„° κ³Όν•™μ—μ„ λ‹¤μκ³Ό κ°™μ€ νΉμ§•μ„ κ°–λ” λ°μ΄ν„°λ¥Ό μ§€μΉ­ν•©λ‹λ‹¤.
> 
> **1. κΈ°λ³Έ λ°”μ΄νΈ** 
> λ°”μ΄νΈλ” μ»΄ν“¨ν„° λ©”λ¨λ¦¬μ κΈ°λ³Έ λ‹¨μ„λ΅, λ€λ¶€λ¶„μ μ»΄ν“¨ν„° μ‹μ¤ν…μ—μ„λ” 8λΉ„νΈ(8bit)λ΅ κµ¬μ„±λ©λ‹λ‹¤.
> μ›μ‹ λ°”μ΄νΈλ” μ΄λ¬ν• λ°”μ΄νΈ λ‹¨μ„μ λ°μ΄ν„°λ¥Ό κ°€λ¦¬ν‚µλ‹λ‹¤.
> 
> **2. νƒ€μ… λ―Έμ§€μ •.**
> μ›μ‹ λ°”μ΄νΈλ” νΉμ •ν• λ°μ΄ν„° νƒ€μ…(μ: μ •μ, μ‹¤μ, λ¬Έμμ—΄ λ“±)μ— κµ¬μ†λμ§€ μ•μ€ μ›ν•(raw) λ°μ΄ν„° μƒνƒλ¥Ό λ‚νƒ€λƒ…λ‹λ‹¤.
> μ΄λ” λ©”λ¨λ¦¬μ— μ €μ¥λ λ°μ΄ν„°λ¥Ό νƒ€μ… μ—†μ΄ λ‹¨μν λ°”μ΄νΈμ μ—°μ†μΌλ΅λ§ κ°„μ£Όν•λ‹¤λ” μλ―Έμ…λ‹λ‹¤.
> 
> **3. μ €μμ¤€ μ ‘κ·Ό.**
> μ›μ‹ λ°”μ΄νΈλ΅μ μ ‘κ·Όμ€ λ³΄ν†µ μ €μμ¤€ ν”„λ΅κ·Έλλ°μ—μ„ μ΄λ£¨μ–΄μ§‘λ‹λ‹¤.
> μ΄λ” λ°μ΄ν„°λ¥Ό νƒ€μ…ν™”λ ν•νƒλ΅ ν•΄μ„ν•κΈ° μ „μ λ‹¨κ³„λ΅, λ©”λ¨λ¦¬μ μ‹¤μ  λ‚΄μ©μ„ μ§μ ‘ μ΅°μ‘ν•  μ μκ² ν•΄μ¤λ‹λ‹¤.
> 
> **4. λ‹¤μ–‘ν• ν•΄μ„ κ°€λ¥μ„±.**
> μ›μ‹ λ°”μ΄νΈλ” μƒν™©μ— λ”°λΌ λ‹¤λ¥΄κ² ν•΄μ„λ  μ μμµλ‹λ‹¤.
> μλ¥Ό λ“¤μ–΄, λ™μΌν• λ°”μ΄νΈ μ‹ν€€μ¤κ°€ ν• μƒν™©μ—μ„λ” μ •μλ΅, λ‹¤λ¥Έ μƒν™©μ—μ„λ” λ¬Έμμ—΄μ΄λ‚ λ‹¤λ¥Έ λ°μ΄ν„° νƒ€μ…μΌλ΅ ν•΄μ„λ  μ μμµλ‹λ‹¤.
> 
> **π’― μ›μ‹ λ°”μ΄νΈ(raw bytes) λ§λ¬΄λ¦¬.**
> 
> μ›μ‹ λ°”μ΄νΈλ” λ©”λ¨λ¦¬μ™€ λ°μ΄ν„°λ¥Ό λ‹¤λ£¨λ” κ°€μ¥ κΈ°λ³Έμ μ΄κ³  μ μ—°ν• λ°©λ²• μ¤‘ ν•λ‚μ΄μ§€λ§, μ •ν™•ν• ν•΄μ„κ³Ό μ•μ „ν• μ‚¬μ©μ„ μ„ν•΄μ„λ” μ£Όμκ°€ ν•„μ”ν•©λ‹λ‹¤.
> μλ»λ ν•΄μ„μ΄λ‚ μ‚¬μ©μ€ λ°μ΄ν„° μ†μƒμ΄λ‚ μ‹μ¤ν… μ¤λ¥λ¥Ό μΌμΌν‚¬ μ μμµλ‹λ‹¤.

> **β… μ •λ ¬ κ·μΉ™(alignment rules)**
> 
> **μ •λ ¬ κ·μΉ™(alignment rules)** μ€ μ»΄ν“¨ν„° λ©”λ¨λ¦¬μ—μ„ λ°μ΄ν„°λ¥Ό μ €μ¥ν•κ±°λ‚ μ ‘κ·Όν•  λ• μ μ©λλ” κ·μΉ™μ…λ‹λ‹¤.
> 
> μ΄ κ·μΉ™λ“¤μ€ λ°μ΄ν„°κ°€ λ©”λ¨λ¦¬ μƒμ—μ„ μ–΄λ–»κ² μ„μΉν•΄μ•Ό ν•λ”μ§€λ¥Ό μ •μν•λ©°, ν¨μ¨μ μ΄κ³  μ•μ „ν• λ©”λ¨λ¦¬ μ ‘κ·Όμ„ μ„ν•΄ μ¤‘μ”ν•©λ‹λ‹¤.
> 
> μ •λ ¬ κ·μΉ™μ μ£Όμ” κ°λ…μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.
> 
> **1. λ©”λ¨λ¦¬ μ •λ ¬(Memory Alignment).**
> λ©”λ¨λ¦¬ μ •λ ¬μ€ λ°μ΄ν„°κ°€ λ©”λ¨λ¦¬ μ£Όμ†μ νΉμ • λ°°μμ— λ§μ¶°μ„ μ €μ¥λμ–΄μ•Ό ν•λ‹¤λ” μ›μΉ™μ…λ‹λ‹¤.
> μλ¥Ό λ“¤μ–΄, 4λ°”μ΄νΈ μ •λ ¬μ κ²½μ° λ°μ΄ν„°λ” 4μ λ°°μμΈ λ©”λ¨λ¦¬ μ£Όμ†μ— μ €μ¥λμ–΄μ•Ό ν•©λ‹λ‹¤.
> 
> **2. μ„±λ¥ μµμ ν™”.**
> μ •λ ¬λ λ©”λ¨λ¦¬ μ ‘κ·Όμ€ μ»΄ν“¨ν„°μ λ©”λ¨λ¦¬μ™€ λ²„μ¤ μ•„ν‚¤ν…μ²μ— λ”°λΌ μ„±λ¥μ„ μµμ ν™”ν•©λ‹λ‹¤.
> μΌλ°μ μΌλ΅, μ •λ ¬λ λ°μ΄ν„°λ” λΉ„μ •λ ¬λ λ°μ΄ν„°μ— λΉ„ν•΄ λΉ λ¥΄κ² μ ‘κ·Όν•κ³  μ²λ¦¬ν•  μ μμµλ‹λ‹¤.
> 
> **3. ν”λ«νΌ λ° μ–Έμ–΄ μ”κµ¬μ‚¬ν•­.**
> λ‹¤μ–‘ν• μ»΄ν“¨ν„° μ‹μ¤ν…κ³Ό ν”„λ΅κ·Έλλ° μ–Έμ–΄λ” μ„λ΅ λ‹¤λ¥Έ μ •λ ¬ μ”κµ¬μ‚¬ν•­μ„ κ°€μ§ μ μμµλ‹λ‹¤.
> μΌλ¶€ μ‹μ¤ν…μ€ μ—„κ²©ν• μ •λ ¬μ„ μ”κµ¬ν•λ” λ°λ©΄, λ‹¤λ¥Έ μ‹μ¤ν…μ€ λ μ—„κ²©ν•  μ μμµλ‹λ‹¤.
> 
> **4. μ¤λ¥ λ°©μ§€.**
> μ •λ ¬μ„ λ”°λ¥΄μ§€ μ•λ” λ©”λ¨λ¦¬ μ ‘κ·Όμ€ μ¤λ¥λ¥Ό λ°μƒμ‹ν‚¬ μ μμµλ‹λ‹¤.
> νΉν, μΌλ¶€ ν•λ“μ›¨μ–΄λ” λΉ„μ •λ ¬ λ©”λ¨λ¦¬ μ ‘κ·Όμ— λ€ν•΄ μμ™Έλ¥Ό λ°μƒμ‹ν‚¤κ±°λ‚ λΉ„ν¨μ¨μ μΈ μ²λ¦¬λ¥Ό μν–‰ν•  μ μμµλ‹λ‹¤.
> 
> **5. λ°μ΄ν„° νƒ€μ…μ— λ”°λ¥Έ μ°¨μ΄.**
> λ‹¤λ¥Έ λ°μ΄ν„° νƒ€μ…μ€ λ‹¤λ¥Έ μ •λ ¬ μ”κµ¬μ‚¬ν•­μ„ κ°€μ§ μ μμµλ‹λ‹¤.
> μλ¥Ό λ“¤μ–΄, μ •μ, λ¶€λ™μ†μμ , κµ¬μ΅°μ²΄ λ“± κ°κ°μ νƒ€μ…μ€ λ©”λ¨λ¦¬ μƒμ—μ„ λ‹¤λ¥΄κ² μ •λ ¬λ  μ μμµλ‹λ‹¤.
> 
> **π’― μ •λ ¬ κ·μΉ™(alignment rules) λ§λ¬΄λ¦¬.**
> 
> μ •λ ¬ κ·μΉ™μ€ λ©”λ¨λ¦¬μ ν¨μ¨μ μΈ μ‚¬μ©κ³Ό μ‹μ¤ν…μ μ•μ •μ„±μ„ μ μ§€ν•κΈ° μ„ν•΄ ν•„μμ μΈ μ”μ†μ΄λ©°, ν”„λ΅κ·Έλλ¨Έλ” μ΄λ¥Ό κ³ λ ¤ν•μ—¬ λ©”λ¨λ¦¬λ¥Ό μ•μ „ν•κ² μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤.

# 5οΈβƒ£ Raw Pointer Arithmetic

**μ›μ‹ ν¬μΈν„°(Raw Pointer)λ΅ μν–‰λλ” ν¬μΈν„° μ—°μ‚°μ€ λ°”μ΄νΈ μμ¤€μ—μ„ μ΄λ£¨μ–΄μ§‘λ‹λ‹¤.**
μ›μ‹ ν¬μΈν„°μ— λ”ν•κ±°λ‚ λΉΌλ” κ²ƒμ€ κ·Έ μλ§ν° λ°”μ΄νΈλ΅ μ¤ν”„μ…‹λ μƒλ΅μ΄ μ›μ‹ ν¬μΈν„°μ κ²°κ³Όλ¥Ό λ§λ“­λ‹λ‹¤.
λ‹¤μ μμ μ—μ„λ” λ„¤ λ°”μ΄νΈμ λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•κ³  λ¨λ“  λ„¤ λ°”μ΄νΈμ— 0xFFλ¥Ό μ €μ¥ν•©λ‹λ‹¤.

```swift
let bytesPointer = UnsafeMutableRawPointer.allocate(byteCount: 4, alignment: 1)
bytesPointer.storeBytes(of: 0xFFFF_FF, as: UInt32.self)

// 'bytesPointer'κ°€ μ°Έμ΅°ν•λ” λ©”λ¨λ¦¬μ—μ„ κ°’μ„ λ΅λ“ν•©λ‹λ‹¤.
let x = bytesPointer.load(as: UInt.self) // 255

// ν• λ‹Ήλ λ§μ§€λ§‰ λ‘ λ°”μ΄νΈμ—μ„ κ°’μ„ λ΅λ“ν•©λ‹λ‹¤.
let offsetPointer = bytesPointer + 2
let y = offsetPointer.load(as: UInt16.self) // 65535
```

μ„ μ½”λ“λ” μƒλ΅­κ² ν• λ‹Ήλ λ„¤ λ°”μ΄νΈμ— 0xFFFF_FFFF κ°’μ„ μ €μ¥ν•κ³ , μ²« λ²μ§Έ λ°”μ΄νΈλ¥Ό UInt8 μΈμ¤ν„΄μ¤λ΅, μ„Έ λ²μ§Έμ™€ λ„¤ λ²μ§Έ λ°”μ΄νΈλ¥Ό UInt16 μΈμ¤ν„΄μ¤λ΅ λ΅λ“ν•©λ‹λ‹¤.

μμ‹ μ΄ ν• λ‹Ήν• λ©”λ¨λ¦¬λ” λ°λ“μ‹ ν•΄μ ν•λ” κ²ƒμ„ μμ§€ λ§μ„Έμ”.

```swift
bytesPointer.deallocate()
```

> β… μ½”λ“ ν•΄μ„ 1οΈβƒ£
> 
> ```swift
> let offsetPointer = bytesPointer + 2
> ```
> 
> μ„ μ½”λ“ μ¤λ‹ν«μ€ **μ›μ‹ ν¬μΈν„°(`'bytePointer')`** λ¥Ό μ‚¬μ©ν•μ—¬ νΉμ • λ°”μ΄νΈ μ¤ν”„μ…‹μΌλ΅ μƒλ΅μ΄ ν¬μΈν„°λ¥Ό μƒμ„±ν•λ” κ²ƒμ„ λ‚νƒ€λƒ…λ‹λ‹¤.
> 
> μ—¬κΈ°μ„μ μλ―Έμ™€ μ‘λ™ μ›λ¦¬λ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.
> 
> **1. μ›μ‹ ν¬μΈν„°('`bytePointer`') :** **`'bytePointer'`** λ” 4λ°”μ΄νΈμ λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήλ°›μ€ μ›μ‹ ν¬μΈν„°μ…λ‹λ‹¤. μ΄ ν¬μΈν„°λ” ν• λ‹Ήλ λ©”λ¨λ¦¬ λΈ”λ΅μ μ‹μ‘ μ£Όμ†λ¥Ό κ°€λ¦¬ν‚µλ‹λ‹¤.
> 
> **2. μ¤ν”„μ…‹ μ¶”κ°€ :** **`'bytePointer + 2'`** μ—°μ‚°μ€ **`'bytePointer'`** κ°€ κ°€λ¦¬ν‚¤λ” μ£Όμ†μ—μ„ 2λ°”μ΄νΈ λ’¤μ μ£Όμ†λ¥Ό κ°€λ¦¬ν‚¤λ” μƒλ΅μ΄ ν¬μΈν„°(**`'offsetPointer'`**)λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
> μ΄λ” **`'bytesPointer'`** μ μ‹μ‘ μ£Όμ†λ΅λ¶€ν„° 2λ°”μ΄νΈ λ’¤μ μ„μΉλ¥Ό μ°Έμ΅°ν•κ² λ©λ‹λ‹¤.
> 
> **3. μƒλ΅μ΄ ν¬μΈν„°(`'offsetPointer'`) :** μƒμ„±λ μƒ ν¬μΈν„° **`'offsetPointer'`** λ” **`'bytesPointer'`** κ°€ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬ λΈ”λ΅ λ‚΄μ—μ„ 2λ°”μ΄νΈ λ’¤μ μ„μΉλ¥Ό κ°€λ¦¬ν‚µλ‹λ‹¤. μ΄ ν¬μΈν„°λ” μ›λ λ©”λ¨λ¦¬ λΈ”λ΅μ μ²μλ¶€ν„°κ°€ μ•„λ‹, μ¤‘κ°„λ¶€ν„° μ‹μ‘ν•λ” μ„μΉλ¥Ό μ°Έμ΅°ν•©λ‹λ‹¤.
> 
> **4. μ΄ν›„μ λ©”λ¨λ¦¬ μ ‘κ·Ό :** μ΄ μƒλ΅μ΄ ν¬μΈν„°λ” μ΄ν›„μ— **`'load(as:)'`** λ©”μ†λ“λ¥Ό ν†µν•΄ νΉμ • νƒ€μ…(**`'UInt16.self'`**)μΌλ΅ ν•΄λ‹Ή μ„μΉμ λ©”λ¨λ¦¬ λ‚΄μ©μ„ μ½λ” λ° μ‚¬μ©λ©λ‹λ‹¤.
> 
> μ΄λ¬ν• λ°©μ‹μΌλ΅ ν¬μΈν„°μ™€ μ¤ν”„μ…‹ μ—°μ‚°μ„ μ‚¬μ©ν•λ©΄, λ©”λ¨λ¦¬ λΈ”λ΅ λ‚΄μ νΉμ • μ„μΉμ— μ ‘κ·Όν•κ³  ν•΄λ‹Ή μ„μΉμ λ°μ΄ν„°λ¥Ό μ½κ±°λ‚ μμ •ν•  μ μμµλ‹λ‹¤.
> μ΄λ” λ©”λ¨λ¦¬ μ΅°μ‘κ³Ό κ΄€λ ¨λ μ €μμ¤€ ν”„λ΅κ·Έλλ°μ—μ„ μμ£Ό μ‚¬μ©λλ” κΈ°λ²•μ…λ‹λ‹¤.

> β… **"μ›μ‹ ν¬μΈν„°λ΅ μν–‰λλ” ν¬μΈν„° μ—°μ‚° λ°©μ‹μ€ λΉ„μ΄νΈ μμ¤€μ—μ„ μ΄λ£¨μ–΄μ§‘λ‹λ‹¤." μ μλ―Έ.**
> 
> **1. μ λ°€ν• λ©”λ¨λ¦¬ μ μ–΄.**
> μ΄λ¬ν• μ—°μ‚° λ°©μ‹μ€ ν”„λ΅κ·Έλλ¨Έκ°€ λ©”λ¨λ¦¬μ νΉμ • λ¶€λ¶„μ— μ •λ°€ν•κ² μ ‘κ·Όν•κ³  μ΅°μ‘ν•  μ μλ„λ΅ ν•΄μ¤λ‹λ‹¤.
> μλ¥Ό λ“¤μ–΄, λ°°μ—΄μ νΉμ • μ”μ†μ— μ ‘κ·Όν•κ±°λ‚, λ©”λ¨λ¦¬ λΈ”λ΅ λ‚΄μ—μ„ λ°μ΄ν„°λ¥Ό μ΄λ™ μ‹ν‚¤λ” λ“±μ μ‘μ—…μ„ μν–‰ν•  λ• μ μ©ν•©λ‹λ‹¤.
> 
> **π’― "μ›μ‹ ν¬μΈν„°λ΅ μν–‰λλ” ν¬μΈν„° μ—°μ‚° λ°©μ‹μ€ λΉ„μ΄νΈ μμ¤€μ—μ„ μ΄λ£¨μ–΄μ§‘λ‹λ‹¤." μ”μ•½.**
> 
> μ”μ•½ν•λ©΄, μ΄ λ¬Έμ¥μ€ μ›μ‹ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•μ—¬ λ©”λ¨λ¦¬ λ‚΄μ—μ„ λ°”μ΄νΈ λ‹¨μ„μ μ •λ°€ν• μ—°μ‚°μ΄ κ°€λ¥ν•¨μ„ λ‚νƒ€λƒ…λ‹λ‹¤.
> μ΄λ” λ©”λ¨λ¦¬λ¥Ό μ €μμ¤€μΌλ΅ λ‹¤λ£° λ• μ¤‘μ”ν• κ°λ…μ΄λ©°, λ©”λ¨λ¦¬μ νΉμ • μμ—­μ„ ν¨κ³Όμ μΌλ΅ μ΅°μ‘ν•  μ μκ² ν•΄μ¤λ‹λ‹¤.

> β… **"λ°”μ΄νΈ μμ¤€ μ—°μ‚°"μ μλ―Έ.**
> 
> λ°”μ΄νΈ μμ¤€μ—μ„μ μ—°μ‚°μ€ μ›μ‹ ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό λ°”μ΄νΈ λ‹¨μ„λ΅ κ³„μ‚°ν•λ‹¤λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.
> μλ¥Ό λ“¤μ–΄, ν¬μΈν„°μ— μ •μλ¥Ό λ”ν•κ±°λ‚ λΉΌλ©΄, κ·Έ μ •μ κ°’μΈ λ°”μ΄νΈ λ‹¨μ„λ΅ ν•΄μ„λμ–΄ ν¬μΈν„°μ μ£Όμ†κ°€ μ΄λ™ν•©λ‹λ‹¤.

> β… **"μ›μ‹ ν¬μΈν„°μ— λ”ν•κ±°λ‚ λΉΌλ” κ²ƒμ€ κ·Έ μλ§νΌ λ°”μ΄νΈλ΅ μ¤ν”„μ…‹λ μƒλ΅μ΄ μ›μ‹ ν¬μΈν„°μ κ²°κ³Όλ¥Ό λ§λ“­λ‹λ‹¤" λ¬Έμ¥μ μλ―Έ.**
> 
> **1. ν¬μΈν„° μ—°μ‚°.**
> ν”„λ΅κ·Έλλ°μ—μ„ ν¬μΈν„° μ—°μ‚°μ€ μ£Όλ΅ μ£Όμ†λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°μ— μ •μ κ°’μ„ λ”ν•κ±°λ‚ λΉΌλ” κ²ƒμ„ λ§ν•©λ‹λ‹¤.
> μ΄ μ—°μ‚°μ€ ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” μ£Όμ†λ¥Ό λ³€κ²½ν•©λ‹λ‹¤.
> 
> **2. λ°”μ΄νΈ μμ¤€μ μ¤ν”„μ…‹.**
> μ›μ‹ ν¬μΈν„°(raw pointer)λ” λ©”λ¨λ¦¬μ νΉμ • μ„μΉλ¥Ό κ°€λ¦¬ν‚¤λ” μ£Όμ†μ…λ‹λ‹¤.
> μ΄ ν¬μΈν„°μ— μ •μλ¥Ό λ”ν•κ±°λ‚ λΉΌλ©΄, μ—°μ‚° κ²°κ³Όλ” μ›λ ν¬μΈν„° μ£Όμ†μ—μ„ ν•΄λ‹Ή μ •μλ§νΌ λ°”μ΄νΈλ΅ μ¤ν”„μ…‹(offset, μ¦‰ μ΄λ™)λ μƒλ΅μ΄ μ£Όμ†λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°κ°€ λ©λ‹λ‹¤.
> 
> **3. μƒλ΅μ΄ μ›μ‹ ν¬μΈν„° μƒμ„±.**
> μλ¥Ό λ“¤μ–΄, μ–΄λ–¤ μ›μ‹ ν¬μΈν„°κ°€ λ©”λ¨λ¦¬μ 100λ²μ§€λ¥Ό κ°€λ¦¬ν‚¤κ³  μκ³ , μ—¬κΈ°μ— 3μ„ λ”ν•λ©΄, μƒλ΅μ΄ ν¬μΈν„°λ” 100λ²μ§€μ—μ„ 3λ°”μ΄νΈ λ’¤μΈ 103λ²μ§€λ¥Ό κ°€λ¦¬ν‚¤κ² λ©λ‹λ‹¤.
> λ°λ€λ΅ 2λ¥Ό λΉΌλ©΄ 98λ²μ§€λ¥Ό κ°€λ¦¬ν‚¤κ² λ©λ‹λ‹¤.
> 
> **π’― λ§λ¬΄λ¦¬.**
> 
> μ΄λ¬ν• ν¬μΈν„° μ—°μ‚°μ€ λ©”λ¨λ¦¬μ λ‹¤λ¥Έ λ¶€λ¶„μΌλ΅ ν¬μΈν„°λ¥Ό μ΄λ™μ‹ν‚¤κ±°λ‚, λ°°μ—΄κ³Ό κ°™μ€ λ°μ΄ν„° κµ¬μ΅°λ¥Ό μνν•  λ• μ μ©ν•κ² μ‚¬μ©λ©λ‹λ‹¤.
> ν•μ§€λ§ μλ»λ μ—°μ‚°μ€ μλ»λ λ©”λ¨λ¦¬ μμ—­μ— μ ‘κ·Όν•  μ μκΈ° λ•λ¬Έμ— μ£Όμλ¥Ό κΈ°μΈμ—¬μ•Ό ν•©λ‹λ‹¤.

> π“ μ°Έκ³ .
> 
> **"μ¤ν”„μ…‹(offset)"** μ΄λΌλ” μ©μ–΄λ” ν”„λ΅κ·Έλλ° λ° μ»΄ν“¨ν„° κ³Όν•™μ—μ„ 'μ΄λ™' λλ” 'μ„μΉμ μ°¨μ΄'λ¥Ό μλ―Έν•©λ‹λ‹¤.

# 6οΈβƒ£ Implicit Casting and Bridging

**"UnsafeMutableRawPointer"** λ§¤κ°λ³€μλ¥Ό κ°€μ§„ ν•¨μλ‚ λ©”μ†λ“λ¥Ό νΈμ¶ν•  λ•, ν•΄λ‹Ή νΉμ • ν¬μΈν„° νƒ€μ…μ μΈμ¤ν„΄μ¤λ¥Ό μ „λ‹¬ν•κ±°λ‚, νΈν™λλ” ν¬μΈν„° νƒ€μ…μ μΈμ¤ν„΄μ¤λ¥Ό μ „λ‹¬ν•κ±°λ‚, λλ” Swiftμ μ•”μ‹μ  λΈλ¦¬μ§•(implicit bridging)μ„ μ‚¬μ©ν•μ—¬ νΈν™λλ” ν¬μΈν„°λ¥Ό μ „λ‹¬ν•  μ μμµλ‹λ‹¤.

μλ¥Ό λ“¤μ–΄, λ‹¤μ μ½”λ“ μƒν”μ `print(address:as:)` ν•¨μλ” μ²« λ²μ§Έ λ§¤κ°λ³€μλ΅ **`UnsafeMutableRawPointer`** μΈμ¤ν„΄μ¤λ¥Ό λ°›μµλ‹λ‹¤.

```swift
func print<T>(address p: UnsafeMutableRawPointer, as type: T.Type) {
    let value = p.load(as: type)
    print(value)
}
```

Swiftμ—μ„ μΌλ°μ μΌλ΅, `print(address:as:)` ν•¨μλ¥Ό `UnsafeMutableRawPointer` μΈμ¤ν„΄μ¤λ΅ νΈμ¶ν•  μ μμµλ‹λ‹¤.

μ΄ μμ μ—μ„λ” μ΄κΈ° λ§¤κ°λ³€μλ΅ `rawPointer`λ¥Ό μ „λ‹¬ν•©λ‹λ‹¤.

```swift
// 'rawPointer'λ” 'Int' κ°’μΌλ΅ μ΄κΈ°ν™”λ λ©”λ¨λ¦¬λ¥Ό κ°€λ¦¬ν‚µλ‹λ‹¤.
let rawPointer: UnsafeMutableRawPointer = UnsafeMutableRawPointer.allocate(byteCount: 4, alignment: 1)
rawPointer.storeBytes(of: 42, as: Int.self)
print(address: rawPointer, as: Int.self)
// "42"λ¥Ό μ¶λ ¥ν•©λ‹λ‹¤.
```

> π§‘β€π’» **μ½”λ“ ν•΄μ„.**
> 
> **1. λ©”λ¨λ¦¬ ν• λ‹Ή.**
> 
> **`'UnsafeMutableRawPointer.allocate'`** λ¥Ό μ‚¬μ©ν•μ—¬ 4λ°”μ΄νΈμ λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•©λ‹λ‹¤.
> μ—¬κΈ°μ„ **`'alignment: 1'`** μ€ λ©”λ¨λ¦¬κ°€ 1λ°”μ΄νΈ κ²½κ³„μ— μ •λ ¬λμ–΄μ•Ό ν•¨μ„ λ‚νƒ€λƒ…λ‹λ‹¤.
> 
> **2. κ°’μ μ €μ¥.**
> 
> **`'storeBytes(of:as:)'`** λ©”μ†λ“λ¥Ό ν†µν•΄ ν• λ‹Ήλ λ©”λ¨λ¦¬μ— **`'42'`** λΌλ” **`'Int'`** νƒ€μ…μ κ°’μ„ μ €μ¥ν•©λ‹λ‹¤.

> β… **"λ©”λ¨λ¦¬κ°€ 1λ°”μ΄νΈ κ²½κ³„μ— μ •λ ¬λμ–΄μ•Ό ν•¨μ„ λ‚νƒ€λƒ…λ‹λ‹¤"μ—μ„ "κ²½κ³„"μ μλ―Έ.**
> 
> μ»΄ν“¨ν„° κ³Όν•™ λ° ν”„λ΅κ·Έλλ°μ—μ„ **"κ²½κ³„"** λΌλ” μ©μ–΄λ” μ£Όλ΅ **"λ©”λ¨λ¦¬ μ •λ ¬(memory alignment)"** κ³Ό κ΄€λ ¨ν•μ—¬ μ‚¬μ©λ©λ‹λ‹¤.
> μ΄ λ§¥λ½μ—μ„ κ²½κ³„λ” λ©”λ¨λ¦¬ μ£Όμ†κ°€ μ¶©μ΅±ν•΄μ•Ό ν•λ” νΉμ •ν• μ΅°κ±΄μ΄λ‚ κ·μΉ™μ„ μλ―Έν•©λ‹λ‹¤.
> κ²½κ³„μ μλ―Έλ¥Ό μΆ€ λ” μμ„Έν μ„¤λ…ν•λ©΄ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.
> 
> **1. λ©”λ¨λ¦¬ μ£Όμ†μ λ°°μ μ΅°κ±΄.**
> 
> λ©”λ¨λ¦¬ κ²½κ³„λ” μ£Όλ΅ λ©”λ¨λ¦¬ μ£Όμ†κ°€ νΉμ • μ«μμ λ°°μμ—¬μ•Ό ν•λ‹¤λ” μ΅°κ±΄μ„ λ‚νƒ€λƒ…λ‹λ‹¤.
> μλ¥Ό λ“¤μ–΄, 4λ°”μ΄νΈ κ²½κ³„ μ •λ ¬μ€ λ©”λ¨λ¦¬ μ£Όμ†κ°€ 4μ λ°°μμ—¬μ•Ό ν•¨μ„ μλ―Έν•©λ‹λ‹¤.
> μ΄λ” ν•΄λ‹Ή μ£Όμ†κ°€ 4, 8, 12, 16 λ“±μΌλ΅ λλ‚μ•Ό ν•λ‹¤λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.
> 
> **2. λ°μ΄ν„° μ²λ¦¬ ν¨μ¨μ„±.**
> 
> νΉμ • λ°μ΄ν„° νƒ€μ…μ€ νΉμ • λ°”μ΄νΈ κ²½κ³„μ— μ •λ ¬λ  λ• μ²λ¦¬ μ†λ„μ™€ ν¨μ¨μ„±μ΄ ν–¥μƒλ  μ μμµλ‹λ‹¤.
> μλ¥Ό λ“¤μ–΄, λ‡λ‡ CPUλ” νΉμ • νƒ€μ…μ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•  λ•, κ·Έ λ°μ΄ν„°κ°€ νΉμ • λ°”μ΄νΈ κ²½κ³„μ— μ •λ ¬λμ–΄ μμ§€ μ•μΌλ©΄ μ„±λ¥μ΄ μ €ν•λ  μ μμµλ‹λ‹¤.
> 
> **3. ν•λ“μ›¨μ–΄μ™€ μ‹μ¤ν… μ”κµ¬μ‚¬ν•­.**
> 
> λ‹¤μ–‘ν• μ»΄ν“¨ν„° μ‹μ¤ν…κ³Ό ν•λ“μ›¨μ–΄λ” λ©”λ¨λ¦¬μ— λ°μ΄ν„°λ¥Ό μ €μ¥ν•κ±°λ‚ μ ‘κ·Όν•  λ• μ„λ΅ λ‹¤λ¥Έ μ •λ ¬ μ”κµ¬μ‚¬ν•­μ„ κ°€μ§ μ μμµλ‹λ‹¤.
> μ΄λ¬ν• μ”κµ¬μ‚¬ν•­μ€ ν•΄λ‹Ή μ‹μ¤ν…μ ν•λ“μ›¨μ–΄ μ•„ν‚¤ν…μ²μ™€ λ°€μ ‘ν• κ΄€λ ¨μ΄ μμµλ‹λ‹¤.
> 
> **π’― "κ²½κ³„"μ μλ―Έ λ§λ¬΄λ¦¬.**
> 
> κ²½κ³„ μ •λ ¬μ€ λ©”λ¨λ¦¬μ ν¨μ¨μ  μ‚¬μ©, μ‹μ¤ν…μ μ„±λ¥ μµμ ν™” λ° μ•μ •μ„± μ μ§€λ¥Ό μ„ν• μ¤‘μ”ν• μ”μ†μ…λ‹λ‹¤.
> λ”°λΌμ„ ν”„λ΅κ·Έλλ¨Έλ“¤μ€ λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•κ³  μ ‘κ·Όν•  λ• μ΄λ¬ν• κ²½κ³„ μ΅°κ±΄μ„ κ³ λ ¤ν•μ—¬μ•Ό ν•©λ‹λ‹¤.

λ§¤κ°λ³€μλ΅ μ „λ‹¬ λ  λ• νƒ€μ…ν™”λ ν¬μΈν„°κ°€ μ›μ‹ ν¬μΈν„°λ΅ μ•”μ‹μ μΌλ΅ μΊμ¤ν…λ  μ μμΌλ―€λ΅ **`'print(address:as):'`** λ¥Ό μ–΄λ–¤ κ°€λ³€ νƒ€μ… ν¬μΈν„° μΈμ¤ν„΄μ¤λ΅λ„ νΈμ¶ν•  μ μμµλ‹λ‹¤.

```swift
let intPointer: UnsafeMutablePointer<Int> = ...
print(address: intPointer, as: Int.self)
// "42"λ¥Ό μ¶λ ¥ν•©λ‹λ‹¤.
```

> β… **"μ•”μ‹μ  μΊμ¤ν…μ μλ―Έ"**
> 
> "λ§¤κ°λ³€μλ΅ μ „λ‹¬λ  λ• νƒ€μ…ν™”λ ν¬μΈν„°κ°€ μ›μ‹ ν¬μΈν„°λ΅ μ•”μ‹μ μΌλ΅ μΊμ¤ν…λ μ μλ‹¤"λ” λ§μ€, νƒ€μ…ν™”λ ν¬μΈν„°(**`'UnsafeMutablePointer<Int>'`** λ“±)κ°€ ν•¨μλ‚ λ©”μ†λ“λ¥Ό νΈμ¶ν•  λ• μ›μ‹ ν¬μΈν„° (**`'UnsafeMutableRawPointer'`**)λ΅ μλ™μΌλ΅ λ³€ν™λ  μ μμμ„ μλ―Έν•©λ‹λ‹¤. **μ΄λ” Swiftκ°€ νƒ€μ… μ •λ³΄λ¥Ό μ μ§€ν•λ©΄μ„λ„, λ” μΌλ°μ μΈ μ›μ‹ ν¬μΈν„° ν•νƒλ΅μ λ³€ν™μ„ μλ™μΌλ΅ μ²λ¦¬ν•΄μ¤€λ‹¤λ” κ²ƒμ„ λ‚νƒ€λƒ…λ‹λ‹¤.**

> β… **"κ°€λ³€ νƒ€μ… ν¬μΈν„°μ μ‚¬μ©"**
> 
> μμ  μ½”λ“μ—μ„ **`let intPointer: UnsafeMutablePointer<Int> = ...`** λ” **`Int`** νƒ€μ…μ„ κ°€λ¦¬ν‚¤λ” κ°€λ³€(mutable) ν¬μΈν„°λ¥Ό μ„ μ–Έν•κ³  μ΄κΈ°ν™”ν•©λ‹λ‹¤.
> μ΄ ν¬μΈν„°λ” **`Int`** νƒ€μ…μ λ°μ΄ν„°λ¥Ό κ°€λ¦¬ν‚¤λ©°, λ©”λ¨λ¦¬μ ν•΄λ‹Ή λ¶€λ¶„μ„ μ½κ±°λ‚ μ“Έ μ μμµλ‹λ‹¤.

> β… **"ν•¨μ νΈμ¶κ³Ό μ¶λ ¥"**
> 
> **`'print(address: intPointer, as: Int.self)'`** μ½”λ“μ—λ” **`'intPointer'`** λ¥Ό **`'print(address:as:)'`** ν•¨μμ— λ§¤κ°λ³€μλ΅ μ „λ‹¬ν•©λ‹λ‹¤. μ΄ λ•, **`'intPointer'`** λ” **`'UnsafeMutablePointer<Int>'`** νƒ€μ…μ΄μ§€λ§, ν•¨μ λ‚΄μ—μ„λ” **`'UnsafeMutableRawPointer'`** λ΅ μ²λ¦¬λ©λ‹λ‹¤.
> λ§μ•½ **`'intPointer'`** κ°€ λ©”λ¨λ¦¬μ—μ„ **`'42'`** λΌλ” **`'Int'`** νƒ€μ…μ κ°’μ„ κ°€λ¦¬ν‚¤κ³  μλ‹¤λ©΄ , μ΄ κ°’μ΄ μ¶λ ¥λ©λ‹λ‹¤.

> π¤” **μλ¬Έμ  1οΈβƒ£**
> 
> "`let intPointer: UnsafeMutablePointer<Int> = ...`λ” `Int` νƒ€μ…μ„ κ°€λ¦¬ν‚¤λ” **κ°€λ³€(mutable) ν¬μΈν„°** λ¥Ό μ„ μ–Έν•κ³  μ΄κΈ°ν™”ν•©λ‹λ‹¤. μ΄ ν¬μΈν„°λ” `Int` νƒ€μ…μ λ°μ΄ν„°λ¥Ό κ°€λ¦¬ν‚¤λ©°, λ©”λ¨λ¦¬μ ν•΄λ‹Ή λ¶€λ¶„μ„ μ½κ±°λ‚ μ“Έ μ μμµλ‹λ‹¤." μ΄ λ¬Έμ¥μ—μ„ `let intPointer: UnsafeMutablePointer<Int> = ...` μ΄ μ½”λ“λ” `"let"`μΈλ° μ™ **κ°€λ³€**μΈκ°€μ”?
> 
> π™‹β€β™‚οΈ **λ‹µλ³€ 1οΈβƒ£**
> 
> Swiftμ—μ„ **`let`** ν‚¤μ›λ“λ” **λ³€μκ°€ μ°Έμ΅°ν•λ” κ°μ²΄ λλ” κ°’** μμ²΄κ°€ **λ¶λ³€(immutable)** μ„μ„ μλ―Έν•λ” κ²ƒμ΄ μ•„λ‹λΌ, **ν•΄λ‹Ή λ³€μκ°€ μ°Έμ΅°ν•λ” λ€μƒμ μ£Όμ†λ‚ μ°Έμ΅° μμ²΄κ°€ λ³€κ²½λμ§€ μ•μμ„ μλ―Έν•©λ‹λ‹¤.**
> 
> **μ¦‰, λ³€μκ°€ ν• λ² μ΄κΈ°ν™”λ ν›„μ—λ” λ‹¤λ¥Έ κ°μ²΄λ‚ κ°’μ„ μ°Έμ΅°ν•λ„λ΅ λ³€κ²½λ  μ μ—†μµλ‹λ‹¤.**
> 
> κ·Έλ¬λ‚ **`'let'`** μΌλ΅ μ„ μ–Έλ **ν¬μΈν„°**κ°€ κ°€λ¦¬ν‚¤λ” **λ©”λ¨λ¦¬ λ‚΄μ©**μ€ **κ°€λ³€**μΌ μ μμµλ‹λ‹¤.
> 
> **`let intPointer: UnsafeMutablePointer<Int> = ...`** μ—μ„ **`intPointer`** λ” **`UnsafeMutablePointer<Int>`** νƒ€μ…μΌλ΅ μ„ μ–Έλμ—μµλ‹λ‹¤:
> 
> - **`UnsafeMutablePointer<Int>` :** μ΄ νƒ€μ…μ€ **`Int`** νƒ€μ…μ λ°μ΄ν„°λ¥Ό κ°€λ¦¬ν‚¤λ” **κ°€λ³€(mutable)** ν¬μΈν„°μ…λ‹λ‹¤. **"κ°€λ³€"** μ΄λΌλ” μ©μ–΄λ” ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬ μ„μΉμ— μ €μ¥λ λ°μ΄ν„°κ°€ λ³€κ²½λ  μ μμμ„ μλ―Έν•©λ‹λ‹¤.
> 
> - **`let`** ν‚¤μ›λ“ μ‚¬μ©: μ—¬κΈ°μ„ **`let`** ν‚¤μ›λ“λ” **`intPointer`** λ³€μ μμ²΄κ°€ λ‹¤λ¥Έ μ£Όμ†λ¥Ό κ°€λ¦¬ν‚¤λ„λ΅ λ³€κ²½λμ§€ μ•μ„ κ²ƒμ„μ„ λ‚νƒ€λƒ…λ‹λ‹¤. μ¦‰, **`intPointer`** λ” μ΄κΈ°ν™”λ ν›„μ— λ‹¤λ¥Έ **`UnsafeMutablePointer<Int>`** μΈμ¤ν„΄μ¤λ‚ λ‹¤λ¥Έ μ£Όμ†λ¥Ό κ°€λ¦¬ν‚¤λ„λ΅ λ³€κ²½λ  μ μ—†μµλ‹λ‹¤.
> 
> π’― **κ²°λ΅  1οΈβƒ£**
> 
> κ²°λ΅ μ μΌλ΅, **`let intPointer`** λ” ν¬μΈν„° μμ²΄μ λ¶λ³€μ„±μ„ μλ―Έν•μ§€λ§,**ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬μ λ‚΄μ©**(μ—¬κΈ°μ—μ„λ” **`Int`** νƒ€μ…μ λ°μ΄ν„°)μ€ **κ°€λ³€μ **μΌλ΅ λ³€κ²½λ  μ μμµλ‹λ‹¤.
> μ΄λ” ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λ©”λ¨λ¦¬ μ£Όμ†λ” κ³ μ •λμ–΄ μμ§€λ§, **κ·Έ λ©”λ¨λ¦¬ μ£Όμ†μ— μ €μ¥λ κ°’μ€ λ³€κ²½λ  μ μμμ„ μλ―Έν•©λ‹λ‹¤.**

λν•, Swiftμ μ•”μ‹μ  λΈλ¦¬μ§•μ„ μ‚¬μ©ν•μ—¬ μΈμ¤ν„΄μ¤λ‚ λ°°μ—΄μ μ”μ†μ— λ€ν• ν¬μΈν„°λ¥Ό μ „λ‹¬ν•  μ μμµλ‹λ‹¤.
inout λ¬Έλ²•μ„ μ‚¬μ©ν•μ—¬ μ–΄λ–¤ νƒ€μ…μ μΈμ¤ν„΄μ¤μ— λ€ν• ν¬μΈν„°λ¥Ό μ•”μ‹μ μΌλ΅ μƒμ„±ν•  μ μμµλ‹λ‹¤.
λ‹¤μ μμ μ—μ„λ” `print(address:as:)` λ¥Ό νΈμ¶ν•  λ• `value`μ— λ€ν• ν¬μΈν„°λ¥Ό ν•¨μ‹μ μΌλ΅ μ „λ‹¬ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.

```swift
var value: Int = 23
print(address: &value, as: Int.self)
// "23"μ„ μ¶λ ¥ν•©λ‹λ‹¤.
```

λ°°μ—΄μ„ inout λ¬Έλ²•μ„ μ‚¬μ©ν•μ—¬ μ „λ‹¬ν•λ©΄ λ°°μ—΄μ μ”μ†μ— λ€ν• κ°€λ³€ ν¬μΈν„°κ°€ μ•”μ‹μ μΌλ΅ μƒμ„±λ©λ‹λ‹¤.
μ΄ μμ μ—μ„λ” `print(address:as:)`λ¥Ό νΈμ¶ν•  λ• `numbers`μ μ”μ†μ— λ€ν• ν¬μΈν„°λ¥Ό μ•”μ‹μ μΌλ΅ μ „λ‹¬ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.

```swift
var numbers = [5, 10, 15, 20]
print(address: &numbers, as: Int.self)
// "5"λ¥Ό μ¶λ ¥ν•©λ‹λ‹¤.
```

> π¤” **μλ¬Έμ  2οΈβƒ£**
> 
> μ„ μμ‹ μ½”λ“μ—μ„λ” μ–΄λ–»κ² **"5"** λ¥Ό μ¶λ ¥ν• κΉ?

> π™‹β€β™‚οΈ **λ‹µλ³€ 2οΈβƒ£**
> 
> μ κ³µλ μ½”λ“μ—μ„ **`numbers`** λ°°μ—΄μ μ²« λ²μ§Έ μ”μ†(5)μ μ£Όμ†λ¥Ό **`print(address:as:)`** ν•¨μμ— μ „λ‹¬ν•κ³  μμµλ‹λ‹¤.
> 
> μ΄ ν•¨μλ” μ „λ‹¬λ μ£Όμ†μ— μ €μ¥λ κ°’μ„ **`Int.self`** νƒ€μ…μΌλ΅ μ½μ–΄μ„ μ¶λ ¥ν•©λ‹λ‹¤.
> 
> **μ½”λ“ ν•΄μ„μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.**
> 
> **1. λ°°μ—΄ μ„ μ–Έ :** **`var numbers = [5, 10, 15, 20]`** μ€ **`Int`** νƒ€μ…μ μ”μ†λ¥Ό κ°€μ§€λ” λ°°μ—΄μ„ μ„ μ–Έν•κ³  μ΄κΈ°ν™” ν•©λ‹λ‹¤.
> μ΄ λ°°μ—΄μ—λ” μμ„λ€λ΅ 5, 10, 15, 20 μ΄λΌλ” λ„¤ κ°μ μ •μκ°€ μ €μ¥λ©λ‹λ‹¤.
> 
> **2. λ°°μ—΄μ μ²« λ²μ§Έ μ”μ† μ£Όμ† :** **`&numbers`** λ” **`numbers`** λ°°μ—΄μ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό λ‚νƒ€λƒ…λ‹λ‹¤.
> λ°°μ—΄μ€ μ—°μ†λ λ©”λ¨λ¦¬ λΈ”λ΅μ— λ°μ΄ν„°λ¥Ό μ €μ¥ν•κΈ° λ•λ¬Έμ—, μ΄ μ£Όμ†λ” λ°°μ—΄μ μ²« λ²μ§Έ μ”μ†(μ—¬κΈ°μ„λ” 5)λ¥Ό κ°€λ¦¬ν‚µλ‹λ‹¤.
> 
> **3. κ°’μ λ΅λ“ λ° μ¶λ ¥ :** **`print(address: &numbers, as: Int.self)`** λ” **`&numbers`** κ°€ κ°€λ¦¬ν‚¤λ” μ£Όμ†μ—μ„ **`Int`** νƒ€μ…μ λ°μ΄ν„°λ¥Ό μ½μ–΄μ„ μ¶λ ¥ν•©λ‹λ‹¤.
> λ”°λΌμ„, λ°°μ—΄μ μ²« λ²μ§Έ μ”μ†μΈ 5κ°€ μ¶λ ¥λ©λ‹λ‹¤.
> 
> π’― **μλ¬Έμ  2οΈβƒ£ λ§λ¬΄λ¦¬.**
> 
> κ²°κ³Όμ μΌλ΅, μ΄ μ½”λ“λ” λ°°μ—΄ **`numbers`** μ μ²« λ²μ§Έ μ”μ†μΈ 5λ¥Ό μ¶λ ¥ν•κ² λ©λ‹λ‹¤.
> λ°°μ—΄μ λ‚λ¨Έμ§€ μ”μ†(10, 15, 20)λ” μ΄ μ½”λ“μ—μ„ μ ‘κ·Όν•κ±°λ‚ μ¶λ ¥λμ§€ μ•μµλ‹λ‹¤.

## π™ μ¤‘μ”!

μΈμ¤ν„΄μ¤λ‚ λ°°μ—΄μ μ”μ†λ“¤μ— λ€ν• μ•”μ‹μ  λΈλ¦¬μ§•μ„ ν†µν•΄ μƒμ„±λ ν¬μΈν„°λ” νΈμ¶λ ν•¨μμ μ‹¤ν–‰ λ™μ•μ—λ§ μ ν¨ν•©λ‹λ‹¤.
ν•¨μ μ‹¤ν–‰ ν›„μ— ν¬μΈν„°λ¥Ό λ²—μ–΄λ‚ μ‚¬μ©ν•λ” κ²ƒμ€ μ •μλμ§€ μ•μ€ ν–‰λ™μ…λ‹λ‹¤.
νΉν, **`UnsafeMutableRawPointer`** μ΄κΈ°ν™”μλ¥Ό νΈμ¶ν•  λ• μ•”μ‹μ  λΈλ¦¬μ§•μ„ μ‚¬μ©ν•μ§€ λ§μ„Έμ”.

> β… **μ•”μ‹μ  λΈλ¦¬μ§•μΌλ΅ μƒμ„±λ ν¬μΈν„°μ μ ν¨μ„±.**
> 
> Swiftμ—μ„λ” μΈμ¤ν„΄μ¤λ‚ λ°°μ—΄μ μ”μ†μ— λ€ν• ν¬μΈν„°λ¥Ό μ•”μ‹μ μΌλ΅ μƒμ„±ν•  μ μμµλ‹λ‹¤.
> μ΄ λ°©λ²•μ„ μ‚¬μ©ν•λ©΄, ν•¨μ λ‚΄μ—μ„ μΈμ¤ν„΄μ¤λ‚ λ°°μ—΄μ λ©”λ¨λ¦¬ μ£Όμ†μ— μ ‘κ·Όν•  μ μλ” ν¬μΈν„°λ¥Ό μ–»μ„ μ μμµλ‹λ‹¤.
> κ·Έλ¬λ‚ μ΄λ¬ν• ν¬μΈν„°λ” ν•΄λ‹Ή ν•¨μκ°€ μ‹¤ν–‰λλ” λ™μ•μ—λ§ μ ν¨ν•©λ‹λ‹¤.

> β… **ν•¨μ μ‹¤ν–‰ μ™Έλ¶€μ—μ„μ ν¬μΈν„° μ‚¬μ© κΈμ§€.**
> 
> ν•¨μ μ‹¤ν–‰μ΄ λλ‚ ν›„μ— μ΄ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ€ μ •μλμ§€ μ•μ€ ν–‰λ™(Undefined behavior)μ„ μ΄λν•  μ μμµλ‹λ‹¤.
> μ¦‰, ν•¨μ μ™Έλ¶€μ—μ„ μ΄ ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ©΄ μ•μ „ν•μ§€ μ•μΌλ©°, μμΈ΅ν•  μ μ—†λ” κ²°κ³Όλ‚ μ¤λ¥κ°€ λ°μƒν•  μ μμµλ‹λ‹¤.

> β… **`UnsafeMutableRawPointer` μ΄κΈ°ν™”μμ™€μ κ΄€λ ¨μ„±** 
> 
> νΉν, **`UnsafeMutableRawPointer`** μ΄κΈ°ν™”μλ¥Ό νΈμ¶ν•  λ•λ” μ΄λ¬ν• μ•”μ‹μ  λΈλ¦¬μ§•μ„ μ‚¬μ©ν•΄μ„λ” μ• λ©λ‹λ‹¤.
> **`UnsafeMutableRawPointer`** λ” λ©”λ¨λ¦¬μ— λ€ν• μ €μμ¤€ μ ‘κ·Όμ„ μ κ³µν•λ―€λ΅, μ΄λ¥Ό μ•μ „ν•κ² μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” λ…μ‹μ μΈ λ©”λ¨λ¦¬ κ΄€λ¦¬κ°€ ν•„μ”ν•©λ‹λ‹¤.

---

### μ°Έκ³  μλ£ π“

- [0κ³Ό 1λ΅ μ«μλ¥Ό ν‘ν„ν•λ” λ°©λ²•.](https://github.com/devKobe24/CS/blob/main/Kobe/231112.md)
- [λ©”λ¨λ¦¬μ μ£Όμ† κ³µκ°„](https://github.com/devKobe24/CS/blob/main/Kobe/231126.md)
- [Apple Developer Docs - UnsafeMutableRawPointer](https://developer.apple.com/documentation/swift/unsafemutablerawpointer)
