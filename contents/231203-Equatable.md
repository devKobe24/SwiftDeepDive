# Equatable ğŸ¤¿

**"ê°’ì˜ ë™ì¼ì„±ì„ ë¹„êµí•  ìˆ˜ ìˆëŠ” ìœ í˜•ì…ë‹ˆë‹¤."**

```swift
protocol Equatable
```

## 1ï¸âƒ£ Equatableì˜ ë‚´ë¶€ ì½”ë“œ.

```swift
public protocol Equatable {

  static func == (lhs: Self, rhs: Self) -> Bool
}

extension Equatable {

  @_transparent
  public static func != (lhs: Self, rhs: Self) -> Bool {
    return !(lhs == rhs)
  }
}

@_silgen_name("_swift_stdlib_Equatable_isEqual_indirect")
internal func Equatable_isEqual_indirect<T: Equatable>(
  _ lhs: UnsafePointer<T>,
  _ rhs: UnsafePointer<T>
) -> Bool {
  return lhs.pointee == rhs.pointee
}

#if !$Embedded
@inlinable
public func === (lhs: AnyObject?, rhs: AnyObject?) -> Bool {
  switch (lhs, rhs) {
  case let (l?, r?):
    return ObjectIdentifier(l) == ObjectIdentifier(r)
  case (nil, nil):
    return true
  default:
    return false
  }
}
#else
@inlinable
public func ===<T: AnyObject, U: AnyObject>(lhs: T?, rhs: U?) -> Bool {
  switch (lhs, rhs) {
  case let (l?, r?):
    return Builtin.bridgeToRawPointer(l) == Builtin.bridgeToRawPointer(r)
  case (nil, nil):
    return true
  default:
    return false
  }
}
#endif

#if !$Embedded
@inlinable
public func !== (lhs: AnyObject?, rhs: AnyObject?) -> Bool {
  return !(lhs === rhs)
}
#else
@inlinable
public func !==<T: AnyObject, U: AnyObject>(lhs: T, rhs: U) -> Bool {
  return !(lhs === rhs)
}
#endif
```

## 2ï¸âƒ£ ë‚´ë¶€ ì½”ë“œ ëœ¯ì–´ ë¨¹ê¸° ëƒ ëƒ  ğŸ˜‹

### âœ… 1. 'Equatable' í”„ë¡œí† ì½œ.

```swift
public protocol Equatable {
    static func == (lhs: Self, rhs: Self) -> Bool
}
```

**`Equatable`** ì€ ê°’ì´ ë™ë“±í•œì§€ ë¹„êµí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤.

**`==`** ì—°ì‚°ìëŠ” ë™ì¼ íƒ€ì…ì˜ ë‘ ì¸ìŠ¤í„´ìŠ¤(**`lhs`** ì™€ **`rhs`**)ë¥¼ ë°›ì•„ ë‘ ê°’ì´ ë™ë“±í•œì§€ ë¹„êµí•˜ì—¬ **`Bool`** ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

> ğŸ¤” ì ê¹ë§Œìš”!! `lhs`ì™€ `rhs`ëŠ” ë§¤ê°œë³€ìˆ˜ ì•„ë‹Œê°€ìš”?! ê·¸ëŸ°ë° ì™œ `ë‘ ì¸ìŠ¤í„´ìŠ¤`ë¼ê³  ì„¤ëª…í•˜ì‹œì£ ?!
> 
> ğŸ™‹â€â™‚ï¸ **`ë‘ ì¸ìŠ¤í„´ìŠ¤`** ë¼ê³  ëª…ì‹œëœ ì´ìœ ëŠ” **`==`** ì—°ì‚°ìê°€ ë¹„êµë¥¼ ìœ„í•´ ë‘ ê°œì˜ ê°œë³„ ê°ì²´ ë˜ëŠ” ê°’(ì¸ìŠ¤í„´ìŠ¤)ë¥¼ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
> 
> **`Equatable`** í”„ë¡œí† ì½œì˜ **`==`** ì—°ì‚°ì ì •ì˜ì— ë”°ë¥´ë©´, ì´ ì—°ì‚°ìëŠ” ê°™ì€ íƒ€ì…ì˜ ë‘ ê°ì²´ë¥¼ ë¹„êµí•˜ê¸° ìœ„í•´ ë‘ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤.
> 
> ì—¬ê¸°ì—ì„œ **`lhs(left-hand side)`** ì™€ **`rhs(right-hand side)`** ëŠ” ì´ ë¹„êµ ì—°ì‚°ì—ì„œ ê°ê° ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ì— ì˜¤ëŠ” ë‘ ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
> 
> ì˜ˆë¥¼ ë“¤ì–´, ë‘ ê°œì˜ ë¬¸ìì—´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¹„êµí•  ë•Œ **`==`** ì—°ì‚°ìëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.
> 
> ```swift
> let string1 = "Hello"
> let string2 = "Kobe"
> let areEqual = string1 == string2 // ì´ ê²½ìš°ì— 'string1'ì´ lhs, 'string2'ê°€ 'rhs'ì…ë‹ˆë‹¤.
> ```
> 
> ì—¬ê¸°ì„œ **`string1`** ê³¼ **`string2`** ëŠ” **`String`** íƒ€ì…ì˜ ë‘ ê°œë³„ ì¸ìŠ¤í„´ìŠ¤ë¡œ, **`==`** ì—°ì‚°ìì— ì˜í•´ ë¹„êµë©ë‹ˆë‹¤.
> 
> ì´ì²˜ëŸ¼ **`==`** ì—°ì‚°ìëŠ” ë¹„êµë¥¼ ìœ„í•´ ë‘ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•„ìš”ë¡œ í•˜ë©°, ì´ ë‘ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì—°ì‚°ìì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.
> 
> ë”°ë¼ì„œ ì„¤ëª…ì—ì„œ **`ë‘ ì¸ìŠ¤í„´ìŠ¤`** ë¼ê³  ëª…ì‹œëœ ê²ƒì€ **`==`** ì—°ì‚°ìê°€ ë™ì‘í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ë‘ ê°œì˜ ë¹„êµ ëŒ€ìƒì„ ê°•ì¡°í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.

### âœ… 2. 'Equatable' í™•ì¥.

```swift
extension Equatable {
    @_transparent
    public static func != (lhs: Self, rhs: Self) -> Bool {
        return !(lhs == rhs)
    }
}
```

**`Equatable`** í”„ë¡œí† ì½œì„ í™•ì¥í•˜ì—¬ **`!=`** ì—°ì‚°ìë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

**`!=`** ì—°ì‚°ìëŠ” **`==`** ì—°ì‚°ìì˜ ê²°ê³¼ë¥¼ ë¶€ì •í•˜ì—¬, ë‘ ê°’ì´ ë‹¤ë¥¸ì§€ë¥¼ íŒë‹¨í•©ë‹ˆë‹¤.

**`@_transparent`** ì†ì„±ì€ ì»´íŒŒì¼ëŸ¬ ìµœì í™”ë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ë©°, í•¨ìˆ˜ì˜ êµ¬í˜„ì´ í˜¸ì¶œì§€ì ì— ì¸ë¼ì¸ë  ìˆ˜ ìˆìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

> ğŸ¤” **ì¸ë¼ì¸(inline)** ë„ˆë¬´ ìƒì†Œí•´ìš” ì•Œë ¤ì£¼ì„¸ìš”!
> 
> ğŸ™‹â€â™‚ï¸ **ì¸ë¼ì¸(inline)** ì´ë€ í•¨ìˆ˜ í˜¸ì¶œì— ëŒ€í•œ ì²˜ë¦¬ ë°©ì‹ì—ì„œ ì‚¬ìš©ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ìš©ì–´ë¡œ, **íŠ¹ì • í•¨ìˆ˜ì˜ ë³¸ë¬¸ ì½”ë“œê°€ í˜¸ì¶œ ì§€ì ì— ì§ì ‘ ì‚½ì…ë˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.**
> 
> ì´ëŠ” ì»´íŒŒì¼ ì‹œê°„ì— ìˆ˜í–‰ë˜ë©°, í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ íš¨ìœ¨ì„±ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.
> 
> ì¼ë°˜ì ì¸ í•¨ìˆ˜ í˜¸ì¶œ ê³¼ì •ì„ ì˜ˆë¡œ ë“¤ì–´ ì¸ë¼ì¸ì´ ì–´ë–¤ ì ì´ ì¼ë°˜ì ì¸ í•¨ìˆ˜ í˜¸ì¶œê³¼ ë‹¤ë¥¸ì§€ ì•Œë ¤ë“œë¦´ê²Œìš”.
> 
> ë¨¼ì €, í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ í”„ë¡œê·¸ë¨ ì‹¤í–‰ íë¦„ì€ í•¨ìˆ˜ì˜ ë³¸ë¬¸ ì½”ë“œê°€ ìœ„ì¹˜í•œ ë©”ëª¨ë¦¬ ì£¼ì†Œë¡œ ì´ë™í•©ë‹ˆë‹¤.
> 
> ì´í›„, í•¨ìˆ˜ì˜ ì½”ë“œê°€ ì‹¤í–‰ë˜ê³  ì‹¤í–‰ íë¦„ì€ ì›ë˜ ìœ„ì¹˜ë¡œ ëŒì•„ì™€ ë‹¤ìŒ ëª…ë ¹ì„ ê³„ì† ì‹¤í–‰í•©ë‹ˆë‹¤.
> 
> **í•¨ìˆ˜ê°€ ì¸ë¼ì¸ë˜ëŠ” ê²½ìš°, ì´ëŸ¬í•œ "í˜¸ì¶œ-ë°˜í™˜" ê³¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.**
> 
> ëŒ€ì‹ , í•¨ìˆ˜ì˜ ë³¸ë¬¸ ì½”ë“œê°€ í˜¸ì¶œ ì§€ì ì— **ì§ì ‘ ì‚½ì…**ë©ë‹ˆë‹¤.
> 
> ì´ë¡œ ì¸í•´ í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ ì†ë„ê°€ í–¥ìƒë  ìˆ˜ ìˆìœ¼ë©°, íŠ¹íˆ ì‘ì€ í•¨ìˆ˜ì—ì„œ ì´ì ì´ í½ë‹ˆë‹¤.
> 
> ê·¸ë ‡ë‹¤ë©´ ì¥ì ê³¼ ë‹¨ì ì„ ì•Œì•„ë³¼ê¹Œìš”?
> 
> **ì¥ì **ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
> 
> í•¨ìˆ˜ì˜ í˜¸ì¶œì— ë”°ë¥¸ ì˜¤ë²„í—¤ë“œê°€ ì¤„ì–´ë“¤ì–´ í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ ì†ë„ê°€ í–¥ìƒë˜ëŠ” **"ì„±ëŠ¥ í–¥ìƒ".**
> 
> í•¨ìˆ˜ í˜¸ì¶œ ë° ë°˜í™˜ì— ë”°ë¥¸ ìŠ¤íƒ ì¡°ì‘ì´ í•„ìš” ì—†ì–´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ê°ì†Œí•  ìˆ˜ ìˆìŒì— ë”°ë¥¸ **ì˜¤ë²„í—¤ë“œ ê°ì†Œ**.
> 
> **ë‹¨ì **ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
> 
> í•¨ìˆ˜ê°€ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œë  ê²½ìš°, í•´ë‹¹ í•¨ìˆ˜ì˜ ì½”ë“œê°€ ê° í˜¸ì¶œ ì§€ì ì— ë³µì‚¬ë˜ì–´ ì „ì²´ ì½”ë“œ í¬ê¸°ê°€ ì¦ê°€ í•  ìˆ˜ ìˆìŒì— ë”°ë¥¸ **"ì½”ë“œ í¬ê¸° ì¦ê°€".**
> 
> ì¸ë¼ì¸ ì²˜ë¦¬ëŠ” ì»´íŒŒì¼ ì‹œê°„ì— ì´ë£¨ì–´ì§€ê¸° ë•Œë¬¸ì—, ì»´íŒŒì¼ ì‹œê°„ì´ ëŠ˜ì–´ë‚  ìˆ˜ ìˆìŒì— ë”°ë¥¸ **"ì»´íŒŒì¼ ì‹œê°„ ì¦ê°€".**

### âœ… 3. 'Equatable_isEqual_indirect' í•¨ìˆ˜.

```swift
@_silgen_name("swift_stdlibt_Equtable_isEqual_indirect")
internal func Equatable_isEqual_indirect<T: Equatable>(
    _ lhs: UnsafePointer<T>,
    _ rhs: UnsafePointer<T>
) -> Bool {
    lhs.pointee == rhs.pointee
}
```

ì´ í•¨ìˆ˜ëŠ” **`Equatable`** íƒ€ì…ì˜ ë‘ ê°’ì„ ë¹„êµí•˜ëŠ” ë‚´ë¶€(internal) í•¨ìˆ˜ì…ë‹ˆë‹¤.

**`@_silgen_name`** ì†ì„±ì€ Swift ì»´íŒŒì¼ëŸ¬ì—ê²Œ ì´ í•¨ìˆ˜ê°€ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì‹¬ë³¼í™”ë  ê²ƒì„ì„ ì•Œë¦¬ëŠ” ê²ƒ ì…ë‹ˆë‹¤.

**`UnsafePointer<T>`** ë¥¼ ì‚¬ìš©í•˜ì—¬, ë©”ëª¨ë¦¬ì˜ íŠ¹ì • ì£¼ì†Œì—ì„œ ê°’ì„ ì½ìŠµë‹ˆë‹¤.
**`lhs.pointee`** ì™€ **`rhs.pointee`** ëŠ” í•´ë‹¹ ì£¼ì†Œì˜ ê°’ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

### âœ… 4. '===' ì—°ì‚°ì.

```swift
public func === (lhs: AnyObject?, rhs: AnyObject?) -> Bool {
    switch (lhs, rhs) {
    case let (l?, r?):
        return ObjectIdentifier(l) == ObjectIdentifier(r)
    case (nil, nil):
        return true
    default:
        return false
  }
}
```

ì´ ì—°ì‚°ìëŠ” ë‘ ê°ì²´ ì°¸ì¡°ê°€ ë™ì¼í•œ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ”ì§€ ë¹„êµí•©ë‹ˆë‹¤.

**`ObjectIdentifier`** ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ê°ì²´ì˜ ê³ ìœ  ì‹ë³„ìë¥¼ ë¹„êµí•©ë‹ˆë‹¤.

### âœ… 5. '!==' ì—°ì‚°ì.

```swift
public func !== (lhs: AnyObject?, rhs: AnyObject?) -> Bool {
    return !(lhs === rhs)
}
```

ì´ ì—°ì‚°ìëŠ” **`===`** ì—°ì‚°ìì˜ ê²°ê³¼ë¥¼ ë¶€ì •í•˜ì—¬, ë‘ ê°ì²´ ì°¸ì¡°ê°€ ë‹¤ë¥¸ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ”ì§€ íŒë‹¨í•©ë‹ˆë‹¤.

### âœ… 6. ì¡°ê±´ë¶€ ì»´íŒŒì¼ ì§€ì‹œë¬¸ `#if !$Embedded`

**`#if !$Embedded`** ë° **`#else`** ë¸”ë¡ì€ ì¡°ê±´ë¶€ ì»´íŒŒì¼ì„ ìœ„í•œ ì§€ì‹œë¬¸ì…ë‹ˆë‹¤.

**`$Embedded`** ê°€ **`false`** ì¼ ë•Œ (ì¦‰, ì„ë² ë””ë“œ í™˜ê²½ì´ ì•„ë‹ ë•Œ), ì²« ë²ˆì§¸ ë¸”ë¡ì˜ ì½”ë“œê°€ ì»´íŒŒì¼ ë©ë‹ˆë‹¤.

ì„ë² ë””ë“œ í™˜ê²½ì¼ ê²½ìš° ë‘ ë²ˆì§¸ ë¸”ë¡ì˜ ì½”ë“œê°€ ì»´íŒŒì¼ë©ë‹ˆë‹¤.

## ğŸ’¯ğŸ“ Equatable ë‚´ë¶€ ì½”ë“œ ëœ¯ì–´ ë¨¹ê¸° ë§ˆë¬´ë¦¬.

ì´ ì½”ë“œëŠ” Swift ì–¸ì–´ì˜ í•µì‹¬ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì¸ ê°’ì˜ ë™ë“±ì„± ë¹„êµë¥¼ ìœ„í•œ êµ¬í˜„ì„ ë³´ì—¬ì£¼ë©°, **`Equatable`** í”„ë¡œí† ì½œì„ í†µí•´ íƒ€ì… ì•ˆì „ì„±ê³¼ ì¼ê´€ëœ ë™ë“±ì„± ë¹„êµ ë°©ì‹ì„ ì œê³µí•©ë‹ˆë‹¤.

---

### ì°¸ê³ ìë£Œ ğŸ“š

- [Apple Developer Documentation - Equatable](https://developer.apple.com/documentation/swift/equatable)
- [Apple - Swift repository / Equatable.swift](https://github.com/apple/swift/blob/main/stdlib/public/core/Equatable.swift)
